2021-01-02 10:38:18.033 -03:00 [INF] Starting up
2021-01-02 10:38:34.515 -03:00 [DBG] Hosting starting
2021-01-02 10:38:35.933 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 10:38:35.964 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 10:38:36.148 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 10:38:36.211 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 10:38:36.285 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 10:38:36.300 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 10:38:36.317 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 10:38:36.330 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 10:38:36.341 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 10:38:36.356 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 10:38:36.362 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 10:38:37.805 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 10:38:37.822 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 10:38:37.839 -03:00 [INF] Hosting environment: Development
2021-01-02 10:38:37.849 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 10:38:37.850 -03:00 [DBG] Hosting started
2021-01-02 10:38:38.127 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 10:38:38.171 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 10:38:38.172 -03:00 [VRB] All hosts are allowed.
2021-01-02 10:38:38.417 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 10:38:38.426 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 10:38:38.442 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 10:38:38.610 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 10:38:38.612 -03:00 [DBG] Request did not match any endpoints
2021-01-02 10:38:39.595 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 10:38:40.290 -03:00 [DBG] Connection ID "17437937763084140545" disconnecting.
2021-01-02 10:38:40.309 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 2186.1873ms
2021-01-02 10:38:42.001 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 10:38:42.001 -03:00 [VRB] All hosts are allowed.
2021-01-02 10:38:42.003 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 10:38:42.003 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 10:38:42.008 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 10:38:42.008 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 10:38:42.008 -03:00 [DBG] Request did not match any endpoints
2021-01-02 10:38:42.010 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 10:38:42.905 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/favicon-32x32.png - -
2021-01-02 10:38:42.905 -03:00 [VRB] All hosts are allowed.
2021-01-02 10:38:42.906 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 10:38:42.906 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 10:38:42.906 -03:00 [DBG] The request path /swagger/favicon-32x32.png does not match an existing file
2021-01-02 10:38:42.906 -03:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2021-01-02 10:38:42.907 -03:00 [DBG] Request did not match any endpoints
2021-01-02 10:38:42.912 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 10:38:42.950 -03:00 [VRB] Range header's value is empty.
2021-01-02 10:38:42.982 -03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2021-01-02 10:38:43.022 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/favicon-32x32.png - - - 200 628 image/png 92.0275ms
2021-01-02 10:38:43.026 -03:00 [DBG] Connection ID "17870283331606675457" disconnecting.
2021-01-02 10:38:43.219 -03:00 [DBG] Connection ID "17437937763084140547" disconnecting.
2021-01-02 10:38:43.238 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1230.3021ms
2021-01-02 10:44:11.559 -03:00 [INF] Starting up
2021-01-02 10:44:15.303 -03:00 [DBG] Hosting starting
2021-01-02 10:44:15.500 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 10:44:15.520 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 10:44:15.640 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 10:44:15.706 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 10:44:15.733 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 10:44:15.738 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 10:44:15.741 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 10:44:15.749 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 10:44:15.757 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 10:44:15.765 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 10:44:15.767 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 10:44:16.467 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 10:44:16.490 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 10:44:16.497 -03:00 [INF] Hosting environment: Development
2021-01-02 10:44:16.501 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 10:44:16.501 -03:00 [DBG] Hosting started
2021-01-02 10:44:16.608 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 10:44:16.608 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 10:44:16.613 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 10:44:16.613 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 10:44:16.614 -03:00 [VRB] All hosts are allowed.
2021-01-02 10:44:16.614 -03:00 [VRB] All hosts are allowed.
2021-01-02 10:44:16.655 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 10:44:16.655 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 10:44:16.661 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 10:44:16.661 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 10:44:16.667 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 10:44:16.667 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 10:44:16.761 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 10:44:16.761 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 10:44:16.762 -03:00 [DBG] Request did not match any endpoints
2021-01-02 10:44:16.762 -03:00 [DBG] Request did not match any endpoints
2021-01-02 10:44:17.182 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 10:44:17.182 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 10:44:17.802 -03:00 [DBG] Connection ID "17582052951159996420" disconnecting.
2021-01-02 10:44:17.822 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 1212.4772ms
2021-01-02 10:44:18.303 -03:00 [DBG] Connection ID "18086456105130524673" disconnecting.
2021-01-02 10:44:18.303 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1705.2001ms
2021-01-02 10:44:18.661 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 10:44:18.661 -03:00 [VRB] All hosts are allowed.
2021-01-02 10:44:18.663 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 10:44:18.663 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 10:44:18.663 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 10:44:18.664 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 10:44:18.664 -03:00 [DBG] Request did not match any endpoints
2021-01-02 10:44:18.669 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 10:44:18.804 -03:00 [DBG] Connection ID "17582052951159996422" disconnecting.
2021-01-02 10:44:18.810 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.9460ms
2021-01-02 11:09:48.184 -03:00 [INF] Starting up
2021-01-02 11:09:53.910 -03:00 [DBG] Hosting starting
2021-01-02 11:09:54.875 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 11:09:54.891 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 11:09:54.995 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 11:09:55.046 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 11:09:55.084 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 11:09:55.091 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 11:09:55.093 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 11:09:55.101 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 11:09:55.110 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 11:09:55.117 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 11:09:55.119 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 11:09:56.060 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 11:09:56.070 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 11:09:56.075 -03:00 [INF] Hosting environment: Development
2021-01-02 11:09:56.080 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 11:09:56.080 -03:00 [DBG] Hosting started
2021-01-02 11:09:56.249 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 11:09:56.253 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 11:09:56.254 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:09:56.314 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:09:56.320 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:09:56.324 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 11:09:56.402 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 11:09:56.403 -03:00 [DBG] Request did not match any endpoints
2021-01-02 11:09:56.909 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:09:57.721 -03:00 [DBG] Connection ID "18014398511092596737" disconnecting.
2021-01-02 11:09:58.065 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 1489.0484ms
2021-01-02 11:09:58.333 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 11:09:58.333 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:09:58.335 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:09:58.335 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:09:58.336 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 11:09:58.336 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 11:09:58.336 -03:00 [DBG] Request did not match any endpoints
2021-01-02 11:09:58.337 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:09:59.533 -03:00 [DBG] Connection ID "18374686494167138307" disconnecting.
2021-01-02 11:09:59.556 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1215.0206ms
2021-01-02 11:45:06.180 -03:00 [INF] Starting up
2021-01-02 11:45:08.942 -03:00 [DBG] Hosting starting
2021-01-02 11:45:09.138 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 11:45:09.152 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 11:45:09.218 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 11:45:09.255 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 11:45:09.278 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 11:45:09.285 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 11:45:09.288 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 11:45:09.295 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 11:45:09.302 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 11:45:09.309 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 11:45:09.311 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 11:45:09.860 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 11:45:09.882 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 11:45:09.885 -03:00 [INF] Hosting environment: Development
2021-01-02 11:45:09.893 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 11:45:09.901 -03:00 [DBG] Hosting started
2021-01-02 11:45:09.990 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 11:45:09.997 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 11:45:09.997 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:45:10.042 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:45:10.050 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:45:10.057 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 11:45:10.122 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 11:45:10.123 -03:00 [DBG] Request did not match any endpoints
2021-01-02 11:45:10.290 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:45:10.750 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 679.9212ms
2021-01-02 11:45:10.750 -03:00 [DBG] Connection ID "17582052951159996426" disconnecting.
2021-01-02 11:45:11.167 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 11:45:11.167 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:45:11.169 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:45:11.169 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:45:11.170 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 11:45:11.170 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 11:45:11.171 -03:00 [DBG] Request did not match any endpoints
2021-01-02 11:45:11.172 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:45:11.906 -03:00 [DBG] Connection ID "18374686494167138311" disconnecting.
2021-01-02 11:45:11.920 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 745.2586ms
2021-01-02 11:45:53.656 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Caccc/SalvarCaccc application/json-patch+json 2781
2021-01-02 11:45:53.657 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:45:53.657 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:45:53.657 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:45:53.658 -03:00 [DBG] POST requests are not supported
2021-01-02 11:45:53.698 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Caccc/SalvarCaccc'
2021-01-02 11:45:53.707 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.CacccController.SalvarCaccc (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Caccc/SalvarCaccc' is valid for the request path '/Analista/Programador/Caccc/SalvarCaccc'
2021-01-02 11:45:53.708 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.CacccController.SalvarCaccc (AppPrivy.WebAppApi)'
2021-01-02 11:45:53.710 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 11:45:53.719 -03:00 [INF] CORS policy execution successful.
2021-01-02 11:45:53.725 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:45:53.742 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (DoacaoMais)
2021-01-02 11:45:53.757 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2021-01-02 11:45:53.794 -03:00 [DBG] Connection ID "18158513699168452611" disconnecting.
2021-01-02 11:45:53.794 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Caccc/SalvarCaccc application/json-patch+json 2781 - 401 - - 113.6513ms
2021-01-02 11:46:40.569 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 95
2021-01-02 11:46:40.569 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:46:40.570 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:46:40.570 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:46:40.570 -03:00 [DBG] POST requests are not supported
2021-01-02 11:46:40.574 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:46:40.575 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:46:40.575 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:46:40.575 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 11:46:40.578 -03:00 [INF] CORS policy execution successful.
2021-01-02 11:46:40.579 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:46:40.586 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:46:40.606 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-01-02 11:46:40.689 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 11:46:40.691 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 11:46:40.692 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 11:46:40.692 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 11:46:40.692 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 11:46:40.693 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 11:46:40.694 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:46:41.155 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-01-02 11:46:41.214 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:46:41.226 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:46:41.231 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 11:46:41.233 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:46:41.234 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:46:41.393 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:46:41.393 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:46:41.394 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:46:41.404 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:46:41.410 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:46:41.410 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:46:41.411 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:46:41.411 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:46:41.446 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 11:46:41.446 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 11:46:45.477 -03:00 [DBG] The index {'NotificacaoId'} was not created on entity type 'NotificacaoDispositivo' as the properties are already covered by the index {'NotificacaoId', 'DispositivoId'}.
2021-01-02 11:46:45.477 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2021-01-02 11:46:45.614 -03:00 [DBG] The property 'UsuarioId' on entity type 'Dispositivo' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 11:46:45.615 -03:00 [DBG] The property 'BoletimId' on entity type 'Notificacao' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 11:46:45.619 -03:00 [DBG] The property 'BazarId' on entity type 'Bazar.Endereco#Endereco' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 11:46:45.619 -03:00 [DBG] The property 'CacccId' on entity type 'Caccc.Endereco#Endereco' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 11:46:45.766 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 11:46:46.197 -03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUser>(
    asyncEnumerable: new QueryingEnumerable<IdentityUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, IdentityUser>, 
        AppPrivy.InfraStructure.Contexto.AppPrivyContext, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-01-02 11:46:46.265 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:46:47.044 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (772ms).
2021-01-02 11:46:47.065 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:46:49.749 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:46:49.779 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:46:50.160 -03:00 [INF] Executed DbCommand (386ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:46:50.190 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:46:50.195 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:46:50.208 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:46:50.233 -03:00 [INF] Executed action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 8768.4347ms.
2021-01-02 11:46:50.234 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:46:50.234 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:46:50.236 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:46:50.236 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:46:50.237 -03:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:46:50.238 -03:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:46:50.240 -03:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2021-01-02 11:46:50.242 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2021-01-02 11:46:50.249 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2021-01-02 11:46:50.251 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2021-01-02 11:46:50.258 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-01-02 11:46:50.260 -03:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2021-01-02 11:46:50.260 -03:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:46:50.260 -03:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:46:50.287 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 9569.5421ms
2021-01-02 11:46:50.291 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:46:50.295 -03:00 [DBG] Connection ID "17798225737568747521" disconnecting.
2021-01-02 11:46:50.304 -03:00 [DBG] 'AppPrivyContext' disposed.
2021-01-02 11:46:50.315 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 95 - 400 - text/plain;+charset=utf-8 9748.8177ms
2021-01-02 11:47:04.599 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 113
2021-01-02 11:47:04.599 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:47:04.599 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:47:04.600 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:47:04.600 -03:00 [DBG] POST requests are not supported
2021-01-02 11:47:04.600 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:47:04.600 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:47:04.600 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:47:04.600 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 11:47:04.604 -03:00 [INF] CORS policy execution successful.
2021-01-02 11:47:04.605 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:47:04.609 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:47:04.614 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 11:47:04.614 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 11:47:04.614 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 11:47:04.615 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 11:47:04.615 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 11:47:04.615 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 11:47:04.615 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:47:04.617 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:47:04.618 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:47:04.619 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 11:47:04.619 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:47:04.619 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:47:04.620 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:47:04.620 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:47:04.621 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:47:04.621 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:47:04.621 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:47:04.621 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:47:04.622 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:47:04.622 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:47:04.626 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 11:47:04.626 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 11:47:10.230 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 11:47:10.239 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:47:10.241 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2021-01-02 11:47:10.241 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:47:10.243 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:47:10.244 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:47:10.547 -03:00 [INF] Executed DbCommand (272ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:47:11.376 -03:00 [DBG] Context 'AppPrivyContext' started tracking 'IdentityUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-01-02 11:47:11.431 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:47:11.431 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:47:11.432 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:47:11.518 -03:00 [WRN] Invalid password for user.
2021-01-02 11:47:11.523 -03:00 [WRN] User failed to provide the correct password.
2021-01-02 11:47:11.528 -03:00 [INF] Executed action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 6897.1675ms.
2021-01-02 11:47:11.528 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:47:11.528 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:47:11.529 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:47:11.529 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:47:11.529 -03:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:47:11.529 -03:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:47:11.530 -03:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2021-01-02 11:47:11.530 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2021-01-02 11:47:11.531 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2021-01-02 11:47:11.531 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2021-01-02 11:47:11.535 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-01-02 11:47:11.536 -03:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2021-01-02 11:47:11.536 -03:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:47:11.536 -03:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:47:11.540 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 6921.0431ms
2021-01-02 11:47:11.548 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:47:11.549 -03:00 [DBG] 'AppPrivyContext' disposed.
2021-01-02 11:47:11.550 -03:00 [DBG] Connection ID "17582052951159996428" disconnecting.
2021-01-02 11:47:11.556 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 113 - 400 - text/plain;+charset=utf-8 6954.6033ms
2021-01-02 11:47:22.325 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 113
2021-01-02 11:47:22.326 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:47:22.326 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:47:22.326 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:47:22.326 -03:00 [DBG] POST requests are not supported
2021-01-02 11:47:22.326 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:47:22.326 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:47:22.327 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:47:22.327 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 11:47:22.331 -03:00 [INF] CORS policy execution successful.
2021-01-02 11:47:22.331 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:47:22.336 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:47:22.340 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 11:47:22.340 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 11:47:22.341 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 11:47:22.341 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 11:47:22.341 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 11:47:22.341 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 11:47:22.341 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:47:22.366 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:47:22.367 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:47:22.367 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 11:47:22.367 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:47:22.367 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:47:22.368 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:47:22.368 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:47:22.368 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:47:22.368 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:47:22.369 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:47:22.369 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:47:22.371 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:47:22.371 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:47:22.385 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 11:47:22.386 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 11:47:25.841 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 11:47:25.844 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:47:25.844 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:47:25.845 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:47:25.845 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:47:25.845 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:47:26.091 -03:00 [INF] Executed DbCommand (215ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:47:26.134 -03:00 [DBG] Context 'AppPrivyContext' started tracking 'IdentityUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-01-02 11:47:26.135 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:47:26.137 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:47:26.156 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:47:26.246 -03:00 [WRN] Invalid password for user.
2021-01-02 11:47:26.281 -03:00 [WRN] User failed to provide the correct password.
2021-01-02 11:47:26.306 -03:00 [INF] Executed action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3895.2803ms.
2021-01-02 11:47:26.308 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:47:26.329 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:47:26.331 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:47:26.348 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:47:26.348 -03:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:47:26.349 -03:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:47:26.350 -03:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2021-01-02 11:47:26.351 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2021-01-02 11:47:26.351 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2021-01-02 11:47:26.351 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2021-01-02 11:47:26.372 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-01-02 11:47:26.391 -03:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2021-01-02 11:47:26.393 -03:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:47:26.393 -03:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:47:26.457 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 4051.9754ms
2021-01-02 11:47:26.483 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:47:26.758 -03:00 [DBG] Connection ID "17582052951159996430" disconnecting.
2021-01-02 11:47:26.758 -03:00 [DBG] 'AppPrivyContext' disposed.
2021-01-02 11:47:26.787 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 113 - 400 - text/plain;+charset=utf-8 4437.4150ms
2021-01-02 11:47:43.169 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 113
2021-01-02 11:47:43.169 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:47:43.169 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:47:43.169 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:47:43.170 -03:00 [DBG] POST requests are not supported
2021-01-02 11:47:43.170 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:47:43.170 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:47:43.170 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:47:43.170 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 11:47:43.174 -03:00 [INF] CORS policy execution successful.
2021-01-02 11:47:43.175 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:47:43.181 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:47:43.187 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 11:47:43.188 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 11:47:43.188 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 11:47:43.188 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 11:47:43.188 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 11:47:43.188 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 11:47:43.189 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:47:43.190 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:47:43.190 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:47:43.191 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 11:47:43.191 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:47:43.191 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:47:43.192 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:47:43.192 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:47:43.192 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:47:43.192 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:47:43.192 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:47:43.193 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:47:43.193 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:47:43.193 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:47:43.203 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 11:47:43.203 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 11:47:43.258 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 11:47:43.259 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:47:43.259 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:47:43.259 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:47:43.259 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:47:43.260 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:47:43.450 -03:00 [INF] Executed DbCommand (187ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:47:43.451 -03:00 [DBG] Context 'AppPrivyContext' started tracking 'IdentityUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-01-02 11:47:43.452 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:47:43.452 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:47:43.452 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:47:43.489 -03:00 [WRN] Invalid password for user.
2021-01-02 11:47:43.494 -03:00 [WRN] User failed to provide the correct password.
2021-01-02 11:47:59.107 -03:00 [INF] Executed action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15900.2431ms.
2021-01-02 11:47:59.108 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:47:59.108 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:47:59.108 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:47:59.108 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:47:59.108 -03:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:47:59.109 -03:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:47:59.109 -03:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2021-01-02 11:47:59.109 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2021-01-02 11:47:59.109 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2021-01-02 11:47:59.109 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2021-01-02 11:47:59.116 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-01-02 11:47:59.117 -03:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2021-01-02 11:47:59.117 -03:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:47:59.118 -03:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:47:59.125 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 15929.0818ms
2021-01-02 11:47:59.138 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:47:59.139 -03:00 [DBG] 'AppPrivyContext' disposed.
2021-01-02 11:47:59.149 -03:00 [DBG] Connection ID "17582052951159996432" disconnecting.
2021-01-02 11:47:59.149 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 113 - 400 - text/plain;+charset=utf-8 15976.9065ms
2021-01-02 11:48:04.535 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 110
2021-01-02 11:48:04.535 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:48:04.536 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:48:04.536 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:48:04.536 -03:00 [DBG] POST requests are not supported
2021-01-02 11:48:04.536 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:48:04.536 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:48:04.536 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:48:04.537 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 11:48:04.540 -03:00 [INF] CORS policy execution successful.
2021-01-02 11:48:04.541 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:48:04.547 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:48:04.554 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 11:48:04.554 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 11:48:04.554 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 11:48:04.555 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 11:48:04.555 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 11:48:04.555 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 11:48:04.555 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:48:04.557 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:48:04.557 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:48:04.558 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 11:48:04.558 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:48:04.558 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:48:04.559 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:48:04.559 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:48:04.559 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:48:04.559 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:48:04.560 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:48:04.560 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:48:04.560 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:48:04.560 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:48:04.642 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 11:48:04.643 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 11:48:04.653 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 11:48:04.654 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:04.655 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:48:04.655 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:04.655 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:04.655 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:48:04.844 -03:00 [INF] Executed DbCommand (186ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:48:04.845 -03:00 [DBG] Context 'AppPrivyContext' started tracking 'IdentityUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-01-02 11:48:04.846 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:04.846 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:04.846 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:04.972 -03:00 [DBG] queryContext => new QueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Claim>, 
    AppPrivy.InfraStructure.Contexto.AppPrivyContext, 
    DiagnosticsLogger<Query>
)
2021-01-02 11:48:04.973 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:04.973 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:48:04.973 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:04.973 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:04.974 -03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserId], [u].[ClaimType], [u].[ClaimValue]
FROM [Security].[UserClaim] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-01-02 11:48:05.200 -03:00 [INF] Executed DbCommand (221ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserId], [u].[ClaimType], [u].[ClaimValue]
FROM [Security].[UserClaim] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-01-02 11:48:05.227 -03:00 [DBG] Context 'AppPrivyContext' started tracking 'IdentityUserClaim<string>' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-01-02 11:48:05.242 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:05.242 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:05.242 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:05.332 -03:00 [DBG] queryContext => new QueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, string>, 
    AppPrivy.InfraStructure.Contexto.AppPrivyContext, 
    DiagnosticsLogger<Query>
)
2021-01-02 11:48:05.335 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:05.335 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:48:05.335 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:05.336 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:05.336 -03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [Security].[UserRole] AS [u]
INNER JOIN [Security].[Role] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2021-01-02 11:48:05.580 -03:00 [INF] Executed DbCommand (242ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [Security].[UserRole] AS [u]
INNER JOIN [Security].[Role] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2021-01-02 11:48:05.581 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:05.581 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:05.582 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:05.595 -03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new QueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, IdentityRole>, 
        AppPrivy.InfraStructure.Contexto.AppPrivyContext, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-01-02 11:48:05.596 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:05.596 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:48:05.596 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:05.596 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:05.596 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Security].[Role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2021-01-02 11:48:05.786 -03:00 [INF] Executed DbCommand (185ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Security].[Role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2021-01-02 11:48:05.796 -03:00 [DBG] Context 'AppPrivyContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-01-02 11:48:05.801 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:05.801 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:05.801 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:05.812 -03:00 [DBG] queryContext => new QueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache, 
    null, 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, Claim>, 
    AppPrivy.InfraStructure.Contexto.AppPrivyContext, 
    DiagnosticsLogger<Query>
)
2021-01-02 11:48:05.812 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:05.812 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:48:05.812 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:05.812 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:05.813 -03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [Security].[RoleClaim] AS [r]
WHERE [r].[RoleId] = @__role_Id_0
2021-01-02 11:48:06.019 -03:00 [INF] Executed DbCommand (197ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [Security].[RoleClaim] AS [r]
WHERE [r].[RoleId] = @__role_Id_0
2021-01-02 11:48:06.020 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:06.020 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:06.021 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:06.063 -03:00 [VRB] Performing unprotect operation to key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with purposes ('E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2').
2021-01-02 11:48:06.071 -03:00 [VRB] Performing protect operation to key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with purposes ('E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2').
2021-01-02 11:48:06.087 -03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-01-02 11:48:09.143 -03:00 [INF] Executed action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 4495.5504ms.
2021-01-02 11:48:09.144 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:48:09.144 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:48:09.144 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:48:09.144 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:48:09.144 -03:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:48:09.145 -03:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:48:09.145 -03:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2021-01-02 11:48:09.145 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2021-01-02 11:48:09.145 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2021-01-02 11:48:09.146 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2021-01-02 11:48:09.146 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2021-01-02 11:48:09.146 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2021-01-02 11:48:09.147 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2021-01-02 11:48:09.150 -03:00 [INF] Executing ObjectResult, writing value of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:48:09.236 -03:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2021-01-02 11:48:09.236 -03:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:48:09.236 -03:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:48:09.240 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 4680.9844ms
2021-01-02 11:48:09.245 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:48:09.247 -03:00 [DBG] 'AppPrivyContext' disposed.
2021-01-02 11:48:09.250 -03:00 [DBG] Connection ID "17798225737568747523" disconnecting.
2021-01-02 11:48:09.252 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 110 - 200 605 application/json;+charset=utf-8 4716.7885ms
2021-01-02 11:48:21.875 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 110
2021-01-02 11:48:21.875 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:48:21.876 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:48:21.876 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:48:21.876 -03:00 [DBG] POST requests are not supported
2021-01-02 11:48:21.876 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:48:21.876 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:48:21.876 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:48:21.876 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 11:48:21.881 -03:00 [INF] CORS policy execution successful.
2021-01-02 11:48:21.881 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:48:21.885 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:48:21.889 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 11:48:21.889 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 11:48:21.889 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 11:48:21.890 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 11:48:21.890 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 11:48:21.890 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 11:48:21.890 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:48:21.891 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:48:21.892 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:48:21.892 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 11:48:21.892 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:48:21.892 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:48:21.893 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:48:21.893 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:48:21.893 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:48:21.893 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:48:21.894 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:48:21.894 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:48:21.894 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:48:21.894 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:48:21.899 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 11:48:21.899 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 11:48:21.904 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 11:48:21.905 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:21.905 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:48:21.905 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:21.905 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:21.906 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:48:22.093 -03:00 [INF] Executed DbCommand (184ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:48:22.094 -03:00 [DBG] Context 'AppPrivyContext' started tracking 'IdentityUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-01-02 11:48:22.094 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:22.094 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.094 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.116 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:22.117 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:48:22.117 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.117 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.117 -03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserId], [u].[ClaimType], [u].[ClaimValue]
FROM [Security].[UserClaim] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-01-02 11:48:22.309 -03:00 [INF] Executed DbCommand (188ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserId], [u].[ClaimType], [u].[ClaimValue]
FROM [Security].[UserClaim] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-01-02 11:48:22.309 -03:00 [DBG] Context 'AppPrivyContext' started tracking 'IdentityUserClaim<string>' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-01-02 11:48:22.310 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:22.310 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.310 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.313 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:22.313 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:48:22.313 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.314 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.314 -03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [Security].[UserRole] AS [u]
INNER JOIN [Security].[Role] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2021-01-02 11:48:22.505 -03:00 [INF] Executed DbCommand (186ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [Security].[UserRole] AS [u]
INNER JOIN [Security].[Role] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2021-01-02 11:48:22.506 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:22.507 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.507 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.508 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:22.509 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:48:22.510 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.510 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.510 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Security].[Role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2021-01-02 11:48:22.705 -03:00 [INF] Executed DbCommand (190ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Security].[Role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2021-01-02 11:48:22.756 -03:00 [DBG] Context 'AppPrivyContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-01-02 11:48:22.756 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:22.757 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.757 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.758 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:22.758 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:48:22.758 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.759 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.759 -03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [Security].[RoleClaim] AS [r]
WHERE [r].[RoleId] = @__role_Id_0
2021-01-02 11:48:22.948 -03:00 [INF] Executed DbCommand (186ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [Security].[RoleClaim] AS [r]
WHERE [r].[RoleId] = @__role_Id_0
2021-01-02 11:48:22.948 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:22.949 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.949 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:22.950 -03:00 [VRB] Performing unprotect operation to key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with purposes ('E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2').
2021-01-02 11:48:22.951 -03:00 [VRB] Performing protect operation to key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with purposes ('E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2').
2021-01-02 11:48:22.969 -03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-01-02 11:48:24.984 -03:00 [INF] Executed action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3068.8821ms.
2021-01-02 11:48:24.984 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:48:24.985 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:48:24.985 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:48:24.985 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:48:24.985 -03:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:48:24.985 -03:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:48:24.986 -03:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2021-01-02 11:48:24.986 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2021-01-02 11:48:24.986 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2021-01-02 11:48:24.987 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2021-01-02 11:48:24.987 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2021-01-02 11:48:24.987 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2021-01-02 11:48:24.987 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2021-01-02 11:48:25.003 -03:00 [INF] Executing ObjectResult, writing value of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:48:25.005 -03:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2021-01-02 11:48:25.006 -03:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:48:25.006 -03:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:48:25.029 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 3116.6331ms
2021-01-02 11:48:25.040 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:48:25.042 -03:00 [DBG] 'AppPrivyContext' disposed.
2021-01-02 11:48:25.050 -03:00 [DBG] Connection ID "17582052951159996434" disconnecting.
2021-01-02 11:48:25.051 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 110 - 200 605 application/json;+charset=utf-8 3170.3613ms
2021-01-02 11:48:41.822 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 110
2021-01-02 11:48:41.822 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:48:41.823 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:48:41.823 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:48:41.823 -03:00 [DBG] POST requests are not supported
2021-01-02 11:48:41.823 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:48:41.823 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:48:41.824 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:48:41.824 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 11:48:41.828 -03:00 [INF] CORS policy execution successful.
2021-01-02 11:48:41.828 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:48:41.833 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:48:41.837 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 11:48:41.837 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 11:48:41.837 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 11:48:41.837 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 11:48:41.838 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 11:48:41.838 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 11:48:41.838 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:48:41.839 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:48:41.840 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:48:41.840 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 11:48:41.840 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:48:41.840 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:48:41.841 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:48:41.841 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:48:41.841 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:48:41.841 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:48:41.842 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:48:41.842 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:48:41.842 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:48:41.842 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:48:41.876 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 11:48:41.876 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 11:48:48.878 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 11:48:49.020 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:49.020 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:48:49.020 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:49.021 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:49.021 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:48:50.137 -03:00 [INF] Executed DbCommand (277ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:48:50.137 -03:00 [DBG] Context 'AppPrivyContext' started tracking 'IdentityUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-01-02 11:48:50.137 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:50.138 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:50.138 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:50.193 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:50.194 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:48:50.194 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:50.195 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:50.195 -03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserId], [u].[ClaimType], [u].[ClaimValue]
FROM [Security].[UserClaim] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-01-02 11:48:50.440 -03:00 [INF] Executed DbCommand (239ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[UserId], [u].[ClaimType], [u].[ClaimValue]
FROM [Security].[UserClaim] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2021-01-02 11:48:50.441 -03:00 [DBG] Context 'AppPrivyContext' started tracking 'IdentityUserClaim<string>' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-01-02 11:48:50.510 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:50.510 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:50.510 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:50.515 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:50.515 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 11:48:50.515 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:50.515 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:50.516 -03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [Security].[UserRole] AS [u]
INNER JOIN [Security].[Role] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2021-01-02 11:48:50.800 -03:00 [INF] Executed DbCommand (203ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [Security].[UserRole] AS [u]
INNER JOIN [Security].[Role] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2021-01-02 11:48:50.823 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:50.825 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:50.825 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:50.847 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:50.869 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (21ms).
2021-01-02 11:48:50.869 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:50.869 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:50.870 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Security].[Role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2021-01-02 11:48:51.097 -03:00 [INF] Executed DbCommand (208ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Security].[Role] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2021-01-02 11:48:51.100 -03:00 [DBG] Context 'AppPrivyContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2021-01-02 11:48:51.117 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:51.117 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:51.119 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:51.139 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:48:51.153 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2021-01-02 11:48:51.155 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:51.155 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:51.156 -03:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [Security].[RoleClaim] AS [r]
WHERE [r].[RoleId] = @__role_Id_0
2021-01-02 11:48:51.389 -03:00 [INF] Executed DbCommand (215ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [Security].[RoleClaim] AS [r]
WHERE [r].[RoleId] = @__role_Id_0
2021-01-02 11:48:51.389 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:48:51.390 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:51.390 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:48:51.395 -03:00 [VRB] Performing unprotect operation to key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with purposes ('E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2').
2021-01-02 11:48:51.395 -03:00 [VRB] Performing protect operation to key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with purposes ('E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi', 'Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationMiddleware', 'Identity.Application', 'v2').
2021-01-02 11:48:51.427 -03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2021-01-02 11:51:34.739 -03:00 [INF] Starting up
2021-01-02 11:51:38.070 -03:00 [DBG] Hosting starting
2021-01-02 11:51:38.244 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 11:51:38.267 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 11:51:38.308 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 11:51:38.348 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 11:51:38.382 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 11:51:38.388 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 11:51:38.392 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 11:51:38.402 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 11:51:38.411 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 11:51:38.421 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 11:51:38.424 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 11:51:38.868 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 11:51:38.889 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 11:51:38.896 -03:00 [INF] Hosting environment: Development
2021-01-02 11:51:38.909 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 11:51:38.910 -03:00 [DBG] Hosting started
2021-01-02 11:51:38.965 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 11:51:38.969 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 11:51:38.969 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:51:39.000 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:51:39.007 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:51:39.013 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 11:51:39.084 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 11:51:39.084 -03:00 [DBG] Request did not match any endpoints
2021-01-02 11:51:39.213 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:51:39.503 -03:00 [DBG] Connection ID "17365880169046212609" disconnecting.
2021-01-02 11:51:39.586 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 551.4637ms
2021-01-02 11:51:40.017 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 11:51:40.018 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:51:40.019 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:51:40.019 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:51:40.020 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 11:51:40.020 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 11:51:40.020 -03:00 [DBG] Request did not match any endpoints
2021-01-02 11:51:40.021 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:51:40.645 -03:00 [DBG] Connection ID "17942340925644603404" disconnecting.
2021-01-02 11:51:40.663 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 631.7419ms
2021-01-02 11:51:59.003 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 90
2021-01-02 11:51:59.003 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:51:59.003 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:51:59.004 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:51:59.004 -03:00 [DBG] POST requests are not supported
2021-01-02 11:51:59.022 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:51:59.034 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 11:51:59.035 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:51:59.044 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 11:51:59.068 -03:00 [INF] CORS policy execution successful.
2021-01-02 11:51:59.073 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:51:59.079 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:51:59.095 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-01-02 11:51:59.152 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 11:51:59.154 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 11:51:59.154 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 11:51:59.155 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 11:51:59.155 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 11:51:59.156 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 11:51:59.158 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:51:59.386 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-01-02 11:51:59.441 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 11:51:59.455 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:51:59.463 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 11:51:59.465 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:51:59.465 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 11:51:59.596 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:51:59.596 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:51:59.597 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 11:51:59.620 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 11:51:59.625 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:51:59.625 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:51:59.626 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:51:59.627 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:51:59.657 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 11:51:59.658 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 11:52:01.123 -03:00 [DBG] The index {'NotificacaoId'} was not created on entity type 'NotificacaoDispositivo' as the properties are already covered by the index {'NotificacaoId', 'DispositivoId'}.
2021-01-02 11:52:01.123 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2021-01-02 11:52:01.293 -03:00 [DBG] The property 'UsuarioId' on entity type 'Dispositivo' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 11:52:01.293 -03:00 [DBG] The property 'BoletimId' on entity type 'Notificacao' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 11:52:01.296 -03:00 [DBG] The property 'BazarId' on entity type 'Bazar.Endereco#Endereco' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 11:52:01.296 -03:00 [DBG] The property 'CacccId' on entity type 'Caccc.Endereco#Endereco' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 11:52:01.434 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 11:52:01.887 -03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUser>(
    asyncEnumerable: new QueryingEnumerable<IdentityUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, IdentityUser>, 
        AppPrivy.InfraStructure.Contexto.AppPrivyContext, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-01-02 11:52:01.973 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 11:52:02.298 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (296ms).
2021-01-02 11:52:02.331 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:52:05.118 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:52:05.150 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:52:05.547 -03:00 [INF] Executed DbCommand (399ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 11:52:05.576 -03:00 [DBG] A data reader was disposed.
2021-01-02 11:52:05.584 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:52:05.598 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 11:52:05.632 -03:00 [INF] Executed action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5946.6027ms.
2021-01-02 11:52:05.634 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:52:05.635 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 11:52:05.636 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:52:05.636 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 11:52:05.638 -03:00 [VRB] Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:52:05.639 -03:00 [VRB] Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:52:05.641 -03:00 [VRB] Before executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2021-01-02 11:52:05.646 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2021-01-02 11:52:05.652 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2021-01-02 11:52:05.654 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2021-01-02 11:52:05.671 -03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2021-01-02 11:52:05.675 -03:00 [VRB] After executing action result Microsoft.AspNetCore.Mvc.ObjectResult.
2021-01-02 11:52:05.675 -03:00 [VRB] Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:52:05.678 -03:00 [VRB] Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2021-01-02 11:52:05.707 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 6525.004ms
2021-01-02 11:52:05.713 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 11:52:05.718 -03:00 [DBG] Connection ID "17365880169046212611" disconnecting.
2021-01-02 11:52:05.722 -03:00 [DBG] 'AppPrivyContext' disposed.
2021-01-02 11:52:05.733 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 90 - 400 - text/plain;+charset=utf-8 6726.6658ms
2021-01-02 11:54:45.431 -03:00 [INF] Starting up
2021-01-02 11:54:47.463 -03:00 [DBG] Hosting starting
2021-01-02 11:54:47.649 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 11:54:47.678 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 11:54:47.732 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 11:54:47.788 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 11:54:47.825 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 11:54:47.833 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 11:54:47.836 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 11:54:47.847 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 11:54:47.858 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 11:54:47.870 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 11:54:47.872 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 11:54:48.749 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 11:54:48.803 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 11:54:48.812 -03:00 [INF] Hosting environment: Development
2021-01-02 11:54:48.817 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 11:54:48.818 -03:00 [DBG] Hosting started
2021-01-02 11:54:48.939 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 11:54:48.946 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 11:54:48.946 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:54:49.070 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:54:49.080 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:54:49.092 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 11:54:49.247 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 11:54:49.248 -03:00 [DBG] Request did not match any endpoints
2021-01-02 11:54:50.106 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:54:50.648 -03:00 [DBG] Connection ID "17437937763084140550" disconnecting.
2021-01-02 11:54:50.661 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 1739.8728ms
2021-01-02 11:54:51.520 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 11:54:51.520 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:54:51.522 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:54:51.522 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:54:51.522 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 11:54:51.523 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 11:54:51.523 -03:00 [DBG] Request did not match any endpoints
2021-01-02 11:54:51.524 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:54:52.096 -03:00 [DBG] Connection ID "17726168143530819585" disconnecting.
2021-01-02 11:54:52.103 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 581.7150ms
2021-01-02 11:55:41.570 -03:00 [INF] Starting up
2021-01-02 11:55:45.607 -03:00 [DBG] Hosting starting
2021-01-02 11:55:45.893 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 11:55:45.918 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 11:55:45.982 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 11:55:46.034 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 11:55:46.101 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 11:55:46.109 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 11:55:46.112 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 11:55:46.124 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 11:55:46.134 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 11:55:46.147 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 11:55:46.150 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 11:55:46.802 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 11:55:46.815 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 11:55:46.844 -03:00 [INF] Hosting environment: Development
2021-01-02 11:55:46.848 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 11:55:46.849 -03:00 [DBG] Hosting started
2021-01-02 11:55:46.964 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 11:55:46.969 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 11:55:46.970 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:55:47.038 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:55:47.047 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:55:47.053 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 11:55:47.163 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 11:55:47.164 -03:00 [DBG] Request did not match any endpoints
2021-01-02 11:55:48.198 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:55:49.587 -03:00 [DBG] Connection ID "18302628900129210369" disconnecting.
2021-01-02 11:55:49.723 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 2507.1398ms
2021-01-02 11:55:50.394 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 11:55:50.394 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:55:50.396 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:55:50.396 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:55:50.397 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 11:55:50.397 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 11:55:50.398 -03:00 [DBG] Request did not match any endpoints
2021-01-02 11:55:50.398 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:55:51.738 -03:00 [DBG] Connection ID "18086456105130524676" disconnecting.
2021-01-02 11:55:51.854 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1365.9557ms
2021-01-02 11:56:42.779 -03:00 [INF] Starting up
2021-01-02 11:56:45.486 -03:00 [DBG] Hosting starting
2021-01-02 11:56:45.701 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 11:56:45.724 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 11:56:45.773 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 11:56:45.823 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 11:56:45.859 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 11:56:45.870 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 11:56:45.874 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 11:56:45.886 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 11:56:45.896 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 11:56:45.908 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 11:56:45.910 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 11:56:46.684 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 11:56:46.707 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 11:56:46.713 -03:00 [INF] Hosting environment: Development
2021-01-02 11:56:46.734 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 11:56:46.735 -03:00 [DBG] Hosting started
2021-01-02 11:56:46.819 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 11:56:46.827 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 11:56:46.827 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:56:46.878 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:56:46.886 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:56:46.894 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 11:56:46.996 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 11:56:46.997 -03:00 [DBG] Request did not match any endpoints
2021-01-02 11:56:47.214 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:56:47.635 -03:00 [DBG] Connection ID "17798225737568747526" disconnecting.
2021-01-02 11:56:47.647 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 838.2691ms
2021-01-02 11:56:48.288 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 11:56:48.289 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:56:48.290 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:56:48.290 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:56:48.290 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 11:56:48.291 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 11:56:48.291 -03:00 [DBG] Request did not match any endpoints
2021-01-02 11:56:48.292 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:56:49.092 -03:00 [DBG] Connection ID "17798225737568747528" disconnecting.
2021-01-02 11:56:49.119 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 821.9954ms
2021-01-02 11:58:20.820 -03:00 [INF] Starting up
2021-01-02 11:58:23.001 -03:00 [DBG] Hosting starting
2021-01-02 11:58:23.110 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 11:58:23.127 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 11:58:23.159 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 11:58:23.185 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 11:58:23.206 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 11:58:23.212 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 11:58:23.214 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 11:58:23.223 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 11:58:23.231 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 11:58:23.241 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 11:58:23.243 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 11:58:23.652 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 11:58:23.684 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 11:58:23.691 -03:00 [INF] Hosting environment: Development
2021-01-02 11:58:23.695 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 11:58:23.695 -03:00 [DBG] Hosting started
2021-01-02 11:58:23.752 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 11:58:23.758 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 11:58:23.759 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:58:23.819 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:58:23.827 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:58:23.834 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 11:58:23.911 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 11:58:23.912 -03:00 [DBG] Request did not match any endpoints
2021-01-02 11:58:24.143 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:58:24.604 -03:00 [DBG] Connection ID "18374686494167138316" disconnecting.
2021-01-02 11:58:24.616 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 864.7651ms
2021-01-02 11:58:25.175 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 11:58:25.175 -03:00 [VRB] All hosts are allowed.
2021-01-02 11:58:25.178 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 11:58:25.178 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 11:58:25.178 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 11:58:25.179 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 11:58:25.179 -03:00 [DBG] Request did not match any endpoints
2021-01-02 11:58:25.185 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 11:58:26.087 -03:00 [DBG] Connection ID "18374686494167138318" disconnecting.
2021-01-02 11:58:26.106 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 939.3549ms
2021-01-02 12:01:26.281 -03:00 [INF] Starting up
2021-01-02 12:02:21.106 -03:00 [INF] Starting up
2021-01-02 12:02:24.126 -03:00 [DBG] Hosting starting
2021-01-02 12:02:24.298 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 12:02:24.316 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 12:02:24.367 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 12:02:24.412 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 12:02:24.444 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:02:24.453 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 12:02:24.456 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:02:24.465 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 12:02:24.474 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 12:02:24.486 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 12:02:24.488 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 12:02:25.092 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 12:02:25.128 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 12:02:25.133 -03:00 [INF] Hosting environment: Development
2021-01-02 12:02:25.167 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 12:02:25.167 -03:00 [DBG] Hosting started
2021-01-02 12:02:25.239 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 12:02:25.245 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 12:02:25.245 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:02:25.382 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:02:25.390 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:02:25.399 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 12:02:25.584 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 12:02:25.585 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:02:26.288 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:02:26.919 -03:00 [DBG] Connection ID "18086456105130524678" disconnecting.
2021-01-02 12:02:26.925 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 1696.1593ms
2021-01-02 12:02:29.692 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 12:02:29.692 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:02:29.693 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:02:29.694 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:02:29.694 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 12:02:29.694 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 12:02:29.695 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:02:29.695 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:02:30.359 -03:00 [DBG] Connection ID "17437937763084140555" disconnecting.
2021-01-02 12:02:30.360 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 665.5833ms
2021-01-02 12:03:06.960 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 12:03:06.960 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:03:06.961 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:03:06.961 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:03:06.961 -03:00 [DBG] POST requests are not supported
2021-01-02 12:03:07.037 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:03:07.053 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:03:07.055 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:03:07.058 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 12:03:07.090 -03:00 [INF] CORS policy execution successful.
2021-01-02 12:03:07.096 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:03:07.123 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:03:07.149 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-01-02 12:03:07.284 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 12:03:07.287 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 12:03:07.287 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 12:03:07.288 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 12:03:07.288 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 12:03:07.289 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 12:03:07.291 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:03:07.551 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-01-02 12:03:07.622 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:03:07.635 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:03:07.640 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 12:03:07.641 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:03:07.642 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:03:07.760 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:03:07.761 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:03:07.761 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:03:07.781 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:03:07.786 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:03:07.787 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:03:07.788 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:03:07.789 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:03:07.823 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 12:03:07.824 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 12:03:08.091 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:03:08.215 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:03:08.215 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:03:08.215 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:03:08.366 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 1060.3325ms
2021-01-02 12:03:08.415 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:03:08.734 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: user@example.com
   at AppPrivy.WebAppApi.Controllers.AuthController.Login(UserToken loginViewModel) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Controllers\AuthController.cs:line 54
   at lambda_method35(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 12:03:08.762 -03:00 [DBG] Connection ID "17798225737568747530" disconnecting.
2021-01-02 12:03:08.771 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91 - 500 - text/plain 1813.7376ms
2021-01-02 12:03:16.674 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 12:03:16.676 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:03:16.676 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:03:16.676 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:03:16.676 -03:00 [DBG] POST requests are not supported
2021-01-02 12:03:16.682 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:03:16.683 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:03:16.683 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:03:16.683 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 12:03:16.688 -03:00 [INF] CORS policy execution successful.
2021-01-02 12:03:16.689 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:03:16.693 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:03:16.697 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 12:03:16.697 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 12:03:16.697 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 12:03:16.698 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 12:03:16.698 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 12:03:16.698 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 12:03:16.698 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:03:16.700 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:03:16.701 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:03:16.702 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 12:03:16.702 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:03:16.703 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:03:16.704 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:03:16.704 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:03:16.704 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:03:16.705 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:03:16.705 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:03:16.705 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:03:16.706 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:03:16.706 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:03:16.714 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 12:03:16.714 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 12:03:20.958 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:03:20.959 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:03:21.005 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:03:21.005 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:03:21.270 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 4566.5622ms
2021-01-02 12:03:21.582 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:03:21.704 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: user@example.com
   at AppPrivy.WebAppApi.Controllers.AuthController.Login(UserToken loginViewModel) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Controllers\AuthController.cs:line 54
   at lambda_method35(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 12:03:22.282 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91 - 500 - text/plain 5595.8165ms
2021-01-02 12:03:22.326 -03:00 [DBG] Connection ID "17437937763084140557" disconnecting.
2021-01-02 12:04:29.755 -03:00 [INF] Starting up
2021-01-02 12:04:32.424 -03:00 [DBG] Hosting starting
2021-01-02 12:04:32.547 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 12:04:32.573 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 12:04:32.616 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 12:04:32.655 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 12:04:32.681 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:04:32.687 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 12:04:32.689 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:04:32.697 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 12:04:32.705 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 12:04:32.714 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 12:04:32.716 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 12:04:33.149 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 12:04:33.169 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 12:04:33.172 -03:00 [INF] Hosting environment: Development
2021-01-02 12:04:33.186 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 12:04:33.187 -03:00 [DBG] Hosting started
2021-01-02 12:04:33.248 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 12:04:33.253 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 12:04:33.254 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:04:33.289 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:04:33.295 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:04:33.301 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 12:04:33.373 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 12:04:33.374 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:04:33.528 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:04:33.827 -03:00 [DBG] Connection ID "18158513699168452616" disconnecting.
2021-01-02 12:04:33.870 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 599.4735ms
2021-01-02 12:04:34.261 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 12:04:34.261 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:04:34.263 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:04:34.263 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:04:34.264 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 12:04:34.264 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 12:04:34.264 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:04:34.265 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:04:34.917 -03:00 [DBG] Connection ID "18158513699168452618" disconnecting.
2021-01-02 12:04:34.926 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 668.8916ms
2021-01-02 12:04:42.496 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 12:04:42.497 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:04:42.497 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:04:42.497 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:04:42.498 -03:00 [DBG] POST requests are not supported
2021-01-02 12:04:42.519 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:04:42.530 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:04:42.539 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:04:42.543 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 12:04:42.554 -03:00 [INF] CORS policy execution successful.
2021-01-02 12:04:42.561 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:04:42.581 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:04:42.616 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-01-02 12:04:42.722 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 12:04:42.725 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 12:04:42.726 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 12:04:42.726 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 12:04:42.727 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 12:04:42.727 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 12:04:42.729 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:04:42.995 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-01-02 12:04:43.063 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:04:43.080 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:04:43.097 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 12:04:43.100 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:04:43.101 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:04:43.223 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:04:43.224 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:04:43.224 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:04:43.243 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:04:43.247 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:04:43.248 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:04:43.248 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:04:43.248 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:04:43.268 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 12:04:43.269 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 12:07:22.378 -03:00 [INF] Starting up
2021-01-02 12:07:25.047 -03:00 [DBG] Hosting starting
2021-01-02 12:07:25.193 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 12:07:25.230 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 12:07:25.277 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 12:07:25.314 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 12:07:25.342 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:07:25.347 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 12:07:25.350 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:07:25.360 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 12:07:25.368 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 12:07:25.378 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 12:07:25.380 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 12:07:25.877 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 12:07:25.930 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 12:07:25.935 -03:00 [INF] Hosting environment: Development
2021-01-02 12:07:25.940 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 12:07:25.940 -03:00 [DBG] Hosting started
2021-01-02 12:07:26.019 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 12:07:26.024 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 12:07:26.025 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:07:26.073 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:07:26.080 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:07:26.086 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 12:07:26.173 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 12:07:26.174 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:07:26.397 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:07:26.876 -03:00 [DBG] Connection ID "18158513699168452622" disconnecting.
2021-01-02 12:07:26.923 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 875.4636ms
2021-01-02 12:07:27.425 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 12:07:27.426 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:07:27.427 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:07:27.427 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:07:27.428 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 12:07:27.428 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 12:07:27.429 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:07:27.430 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:07:28.370 -03:00 [DBG] Connection ID "17582052951159996442" disconnecting.
2021-01-02 12:07:28.371 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 944.8363ms
2021-01-02 12:07:36.169 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 12:07:36.169 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:07:36.170 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:07:36.170 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:07:36.170 -03:00 [DBG] POST requests are not supported
2021-01-02 12:07:36.185 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:07:36.196 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:07:36.198 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:07:36.200 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 12:07:36.219 -03:00 [INF] CORS policy execution successful.
2021-01-02 12:07:36.226 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:07:36.231 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:07:36.246 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-01-02 12:07:36.315 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 12:07:36.317 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 12:07:36.317 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 12:07:36.318 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 12:07:36.318 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 12:07:36.318 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 12:07:36.320 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:07:36.543 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-01-02 12:07:36.609 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:07:36.632 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:07:36.638 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 12:07:36.640 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:07:36.642 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:07:36.853 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:07:36.853 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:07:36.854 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:07:36.879 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:07:36.885 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:07:36.886 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:07:36.886 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:07:36.886 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:07:36.912 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 12:07:36.912 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 12:07:37.212 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:07:37.212 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:07:37.212 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:07:37.212 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:07:37.387 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 1043.4477ms
2021-01-02 12:07:37.436 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:07:37.607 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ApplicationException: An exception of type System.Int32 was expected, but not thrown
   at AppPrivy.WebAppApi.Controllers.AuthController.Login(UserToken loginViewModel) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Controllers\AuthController.cs:line 54
   at lambda_method35(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 12:07:37.629 -03:00 [DBG] Connection ID "17798225737568747532" disconnecting.
2021-01-02 12:07:37.664 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91 - 500 - text/plain 1465.9932ms
2021-01-02 12:07:51.936 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 12:07:51.936 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:07:51.936 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:07:51.936 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:07:51.937 -03:00 [DBG] POST requests are not supported
2021-01-02 12:07:51.942 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:07:51.942 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:07:51.942 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:07:51.942 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 12:07:51.946 -03:00 [INF] CORS policy execution successful.
2021-01-02 12:07:51.947 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:07:51.950 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:07:51.958 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 12:07:51.959 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 12:07:51.959 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 12:07:51.959 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 12:07:51.959 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 12:07:51.959 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 12:07:51.960 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:07:51.962 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:07:51.962 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:07:51.963 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 12:07:51.963 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:07:51.963 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:07:51.964 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:07:51.964 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:07:51.964 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:07:51.965 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:07:51.965 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:07:51.965 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:07:51.966 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:07:51.966 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:07:51.977 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 12:07:51.977 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 12:07:55.001 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:07:55.002 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:07:55.002 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:07:55.002 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:07:55.132 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 3169.7123ms
2021-01-02 12:07:55.186 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:07:55.251 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ApplicationException: An exception of type System.Int32 was expected, but not thrown
   at AppPrivy.WebAppApi.Controllers.AuthController.Login(UserToken loginViewModel) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Controllers\AuthController.cs:line 54
   at lambda_method35(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 12:07:55.267 -03:00 [DBG] Connection ID "18230571306091282433" disconnecting.
2021-01-02 12:07:55.283 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91 - 500 - text/plain 3345.9779ms
2021-01-02 12:13:42.907 -03:00 [INF] Starting up
2021-01-02 12:13:45.926 -03:00 [DBG] Hosting starting
2021-01-02 12:13:46.056 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 12:13:46.071 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 12:13:46.112 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 12:13:46.139 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 12:13:46.159 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:13:46.164 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 12:13:46.167 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:13:46.174 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 12:13:46.180 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 12:13:46.189 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 12:13:46.190 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 12:13:46.623 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 12:13:46.642 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 12:13:46.649 -03:00 [INF] Hosting environment: Development
2021-01-02 12:13:46.662 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 12:13:46.663 -03:00 [DBG] Hosting started
2021-01-02 12:13:46.732 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 12:13:46.736 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 12:13:46.737 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:13:46.777 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:13:46.782 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:13:46.789 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 12:13:46.853 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 12:13:46.853 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:13:47.068 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:13:47.845 -03:00 [DBG] Connection ID "18230571293206380564" disconnecting.
2021-01-02 12:13:47.847 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 1095.2452ms
2021-01-02 12:13:48.203 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 12:13:48.203 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:13:48.204 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:13:48.205 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:13:48.205 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 12:13:48.206 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 12:13:48.206 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:13:48.207 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:13:48.913 -03:00 [DBG] Connection ID "17437937763084140560" disconnecting.
2021-01-02 12:13:48.913 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 710.5943ms
2021-01-02 12:13:57.316 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 12:13:57.316 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:13:57.317 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:13:57.317 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:13:57.318 -03:00 [DBG] POST requests are not supported
2021-01-02 12:13:57.333 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:13:57.345 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:13:57.346 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:13:57.348 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 12:13:57.371 -03:00 [INF] CORS policy execution successful.
2021-01-02 12:13:57.381 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:13:57.385 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:13:57.416 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-01-02 12:13:57.505 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 12:13:57.507 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 12:13:57.508 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 12:13:57.509 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 12:13:57.509 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 12:13:57.510 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 12:13:57.513 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:13:57.887 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-01-02 12:13:57.953 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:13:57.966 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:13:57.971 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 12:13:57.973 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:13:57.973 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:13:58.116 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:13:58.117 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:13:58.117 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:13:58.142 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:13:58.150 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:13:58.151 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:13:58.152 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:13:58.152 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:13:58.182 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 12:13:58.182 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 12:13:58.520 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:13:58.521 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:13:58.521 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:13:58.521 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:13:58.757 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 1217.7609ms
2021-01-02 12:13:58.820 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:13:59.036 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ApplicationException: An exception of type System.Int32 was expected, but not thrown
   at AppPrivy.WebAppApi.Controllers.AuthController.Login(UserToken loginViewModel) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Controllers\AuthController.cs:line 54
   at lambda_method35(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 12:13:59.069 -03:00 [DBG] Connection ID "18230571293206380566" disconnecting.
2021-01-02 12:13:59.087 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91 - 500 - text/plain 1748.0952ms
2021-01-02 12:14:18.932 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 12:14:18.932 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:14:18.932 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:14:18.932 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:14:18.932 -03:00 [DBG] POST requests are not supported
2021-01-02 12:14:18.938 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:14:18.938 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:14:18.938 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:14:18.939 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 12:14:18.942 -03:00 [INF] CORS policy execution successful.
2021-01-02 12:14:18.943 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:14:18.946 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:14:18.950 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 12:14:18.950 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 12:14:18.950 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 12:14:18.951 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 12:14:18.951 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 12:14:18.951 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 12:14:18.952 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:14:18.956 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:14:18.957 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:14:18.957 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 12:14:18.958 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:14:18.958 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:14:18.959 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:14:18.959 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:14:18.959 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:14:18.960 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:14:18.960 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:14:18.960 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:14:18.961 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:14:18.961 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:14:18.966 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 12:14:18.966 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 12:14:19.301 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:14:19.301 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:14:19.301 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:14:19.302 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:14:19.469 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 514.0672ms
2021-01-02 12:14:19.522 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:14:19.573 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ApplicationException: An exception of type System.Int32 was expected, but not thrown
   at AppPrivy.WebAppApi.Controllers.AuthController.Login(UserToken loginViewModel) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Controllers\AuthController.cs:line 54
   at lambda_method35(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 12:14:19.587 -03:00 [DBG] Connection ID "17870283331606675461" disconnecting.
2021-01-02 12:14:19.595 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91 - 500 - text/plain 660.5852ms
2021-01-02 12:16:11.546 -03:00 [INF] Starting up
2021-01-02 12:16:14.715 -03:00 [DBG] Hosting starting
2021-01-02 12:16:14.874 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 12:16:14.892 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 12:16:14.929 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 12:16:14.963 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 12:16:14.987 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:16:14.995 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 12:16:14.997 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:16:15.006 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 12:16:15.015 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 12:16:15.026 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 12:16:15.028 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 12:16:15.523 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 12:16:15.553 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 12:16:15.559 -03:00 [INF] Hosting environment: Development
2021-01-02 12:16:15.577 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 12:16:15.577 -03:00 [DBG] Hosting started
2021-01-02 12:16:15.651 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 12:16:15.655 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 12:16:15.655 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:16:15.689 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:16:15.695 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:16:15.700 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 12:16:15.772 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 12:16:15.773 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:16:15.932 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:16:16.198 -03:00 [DBG] Connection ID "17582052951159996445" disconnecting.
2021-01-02 12:16:16.215 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 567.8766ms
2021-01-02 12:16:16.805 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 12:16:16.805 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:16:16.807 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:16:16.807 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:16:16.808 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 12:16:16.808 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 12:16:16.808 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:16:16.809 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:16:17.395 -03:00 [DBG] Connection ID "17798225737568747537" disconnecting.
2021-01-02 12:16:17.395 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 593.3007ms
2021-01-02 12:16:21.685 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 12:16:21.686 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:16:21.686 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:16:21.686 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:16:21.687 -03:00 [DBG] POST requests are not supported
2021-01-02 12:16:21.705 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:16:21.716 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:16:21.718 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:16:21.733 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 12:16:21.748 -03:00 [INF] CORS policy execution successful.
2021-01-02 12:16:21.753 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:16:21.759 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:16:21.774 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-01-02 12:16:21.833 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 12:16:21.835 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 12:16:21.835 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 12:16:21.836 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 12:16:21.836 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 12:16:21.837 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 12:16:21.838 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:16:22.050 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-01-02 12:16:22.098 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:16:22.108 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:16:22.112 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 12:16:22.114 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:16:22.115 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:16:22.261 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:16:22.261 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:16:22.261 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:16:22.280 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:16:22.284 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:16:22.284 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:16:22.284 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:16:22.285 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:16:22.304 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 12:16:22.305 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 12:16:22.597 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:16:22.597 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:16:22.597 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:16:22.598 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:16:22.759 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 903.6652ms
2021-01-02 12:16:22.823 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:16:23.008 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at AppPrivy.WebAppApi.Controllers.AuthController.Login(UserToken loginViewModel) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Controllers\AuthController.cs:line 54
   at lambda_method35(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 12:16:23.030 -03:00 [DBG] Connection ID "18158513712053354497" disconnecting.
2021-01-02 12:16:23.059 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91 - 500 - text/plain 1364.1590ms
2021-01-02 12:18:38.708 -03:00 [INF] Starting up
2021-01-02 12:18:42.286 -03:00 [DBG] Hosting starting
2021-01-02 12:18:42.490 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 12:18:42.516 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 12:18:42.572 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 12:18:42.611 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 12:18:42.633 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:18:42.639 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 12:18:42.642 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:18:42.651 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 12:18:42.658 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 12:18:42.669 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 12:18:42.671 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 12:18:43.481 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 12:18:43.507 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 12:18:43.511 -03:00 [INF] Hosting environment: Development
2021-01-02 12:18:43.519 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 12:18:43.530 -03:00 [DBG] Hosting started
2021-01-02 12:18:43.608 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 12:18:43.614 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 12:18:43.614 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:18:43.667 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:18:43.682 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:18:43.691 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 12:18:43.786 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 12:18:43.787 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:18:44.051 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:18:44.535 -03:00 [DBG] Connection ID "18230571293206380568" disconnecting.
2021-01-02 12:18:44.535 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 901.1384ms
2021-01-02 12:18:45.437 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 12:18:45.438 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:18:45.439 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:18:45.439 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:18:45.440 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 12:18:45.440 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 12:18:45.440 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:18:45.441 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:18:46.223 -03:00 [DBG] Connection ID "17582052951159996447" disconnecting.
2021-01-02 12:18:46.230 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 791.2116ms
2021-01-02 12:25:09.161 -03:00 [INF] Starting up
2021-01-02 12:25:11.717 -03:00 [DBG] Hosting starting
2021-01-02 12:25:11.833 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 12:25:11.847 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 12:25:11.881 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 12:25:11.907 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 12:25:11.932 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:25:11.939 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 12:25:11.942 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:25:11.949 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 12:25:11.958 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 12:25:11.969 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 12:25:11.970 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 12:25:12.369 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 12:25:12.390 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 12:25:12.396 -03:00 [INF] Hosting environment: Development
2021-01-02 12:25:12.406 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 12:25:12.415 -03:00 [DBG] Hosting started
2021-01-02 12:25:12.479 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 12:25:12.483 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 12:25:12.484 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:25:12.520 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:25:12.525 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:25:12.531 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 12:25:12.601 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 12:25:12.602 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:25:12.773 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:25:13.053 -03:00 [DBG] Connection ID "18230571293206380570" disconnecting.
2021-01-02 12:25:13.152 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 589.7476ms
2021-01-02 12:25:13.522 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 12:25:13.522 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:25:13.523 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:25:13.523 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:25:13.524 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 12:25:13.524 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 12:25:13.524 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:25:13.525 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:25:14.094 -03:00 [DBG] Connection ID "18230571293206380572" disconnecting.
2021-01-02 12:25:14.105 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 581.4191ms
2021-01-02 12:25:47.706 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 12:25:47.706 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:25:47.707 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:25:47.707 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:25:47.707 -03:00 [DBG] POST requests are not supported
2021-01-02 12:25:47.737 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:25:47.748 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:25:47.749 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:25:47.753 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 12:25:47.762 -03:00 [INF] CORS policy execution successful.
2021-01-02 12:25:47.768 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:25:47.773 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:25:47.792 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-01-02 12:25:47.884 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 12:25:47.887 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 12:25:47.887 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 12:25:47.887 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 12:25:47.888 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 12:25:47.888 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 12:25:47.890 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:25:48.110 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-01-02 12:25:48.200 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:25:48.216 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:25:48.223 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 12:25:48.226 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:25:48.226 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:25:48.378 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:25:48.378 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:25:48.378 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:25:48.403 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:25:48.409 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:25:48.409 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:25:48.410 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:25:48.410 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:25:48.431 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 12:25:48.432 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 12:25:56.631 -03:00 [DBG] The index {'NotificacaoId'} was not created on entity type 'NotificacaoDispositivo' as the properties are already covered by the index {'NotificacaoId', 'DispositivoId'}.
2021-01-02 12:25:56.631 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2021-01-02 12:25:56.769 -03:00 [DBG] The property 'UsuarioId' on entity type 'Dispositivo' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 12:25:56.770 -03:00 [DBG] The property 'BoletimId' on entity type 'Notificacao' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 12:25:56.772 -03:00 [DBG] The property 'BazarId' on entity type 'Bazar.Endereco#Endereco' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 12:25:56.772 -03:00 [DBG] The property 'CacccId' on entity type 'Caccc.Endereco#Endereco' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 12:25:56.908 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 12:25:57.365 -03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUser>(
    asyncEnumerable: new QueryingEnumerable<IdentityUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, IdentityUser>, 
        AppPrivy.InfraStructure.Contexto.AppPrivyContext, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-01-02 12:25:57.429 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 12:25:57.818 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (378ms).
2021-01-02 12:25:57.837 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 12:26:01.687 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 12:26:01.720 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 12:26:02.137 -03:00 [INF] Executed DbCommand (409ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 12:26:02.167 -03:00 [DBG] A data reader was disposed.
2021-01-02 12:26:02.174 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 12:26:02.189 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 12:26:02.690 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:26:02.690 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:26:02.693 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:26:02.694 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:26:03.230 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 15314.5206ms
2021-01-02 12:26:03.410 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:26:03.789 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at AppPrivy.WebAppApi.Controllers.AuthController.Login(UserToken loginViewModel) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Controllers\AuthController.cs:line 59
   at lambda_method35(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 12:26:03.826 -03:00 [DBG] 'AppPrivyContext' disposed.
2021-01-02 12:26:03.828 -03:00 [DBG] Connection ID "17509995357122068483" disconnecting.
2021-01-02 12:26:03.846 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91 - 500 - text/plain 16189.0748ms
2021-01-02 12:27:40.407 -03:00 [INF] Starting up
2021-01-02 12:27:43.097 -03:00 [DBG] Hosting starting
2021-01-02 12:27:43.407 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 12:27:43.431 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 12:27:43.498 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 12:27:43.570 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 12:27:43.624 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:27:43.634 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 12:27:43.645 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 12:27:43.657 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 12:27:43.666 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 12:27:43.679 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 12:27:43.684 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 12:27:44.159 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 12:27:44.178 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 12:27:44.181 -03:00 [INF] Hosting environment: Development
2021-01-02 12:27:44.193 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 12:27:44.194 -03:00 [DBG] Hosting started
2021-01-02 12:27:44.255 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 12:27:44.260 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 12:27:44.261 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:27:44.306 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:27:44.311 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:27:44.315 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 12:27:44.368 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 12:27:44.369 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:27:44.571 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:27:44.860 -03:00 [DBG] Connection ID "18374686494167138323" disconnecting.
2021-01-02 12:27:44.932 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 668.1802ms
2021-01-02 12:27:45.327 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 12:27:45.327 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:27:45.328 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:27:45.329 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:27:45.329 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 12:27:45.330 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 12:27:45.330 -03:00 [DBG] Request did not match any endpoints
2021-01-02 12:27:45.331 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:27:45.971 -03:00 [DBG] Connection ID "17509995357122068485" disconnecting.
2021-01-02 12:27:45.981 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 652.1810ms
2021-01-02 12:28:06.878 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 12:28:06.879 -03:00 [VRB] All hosts are allowed.
2021-01-02 12:28:06.879 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 12:28:06.879 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 12:28:06.880 -03:00 [DBG] POST requests are not supported
2021-01-02 12:28:06.897 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:28:06.910 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 12:28:06.912 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:28:06.949 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 12:28:06.978 -03:00 [INF] CORS policy execution successful.
2021-01-02 12:28:06.984 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 12:28:07.001 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:28:07.028 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-01-02 12:28:07.099 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 12:28:07.101 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 12:28:07.102 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 12:28:07.103 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 12:28:07.104 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 12:28:07.105 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 12:28:07.107 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:28:07.313 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-01-02 12:28:07.365 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 12:28:07.379 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:28:07.384 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 12:28:07.386 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:28:07.386 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 12:28:07.561 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:28:07.561 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:28:07.561 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 12:28:07.581 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 12:28:07.586 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:28:07.586 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:28:07.587 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:28:07.587 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:28:07.613 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 12:28:07.613 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 12:28:08.968 -03:00 [DBG] The index {'NotificacaoId'} was not created on entity type 'NotificacaoDispositivo' as the properties are already covered by the index {'NotificacaoId', 'DispositivoId'}.
2021-01-02 12:28:08.968 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2021-01-02 12:28:09.147 -03:00 [DBG] The property 'UsuarioId' on entity type 'Dispositivo' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 12:28:09.148 -03:00 [DBG] The property 'BoletimId' on entity type 'Notificacao' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 12:28:09.150 -03:00 [DBG] The property 'BazarId' on entity type 'Bazar.Endereco#Endereco' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 12:28:09.150 -03:00 [DBG] The property 'CacccId' on entity type 'Caccc.Endereco#Endereco' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 12:28:09.281 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 12:28:09.721 -03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUser>(
    asyncEnumerable: new QueryingEnumerable<IdentityUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, IdentityUser>, 
        AppPrivy.InfraStructure.Contexto.AppPrivyContext, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-01-02 12:28:09.800 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 12:28:10.078 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (270ms).
2021-01-02 12:28:10.101 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 12:28:12.064 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 12:28:12.099 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 12:28:12.509 -03:00 [INF] Executed DbCommand (409ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 12:28:12.540 -03:00 [DBG] A data reader was disposed.
2021-01-02 12:28:12.546 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 12:28:12.560 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 12:28:16.670 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:28:16.670 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 12:28:16.672 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:28:16.672 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 12:28:17.407 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 10267.6427ms
2021-01-02 12:28:17.630 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 12:28:18.048 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at AppPrivy.WebAppApi.Controllers.AuthController.Login(UserToken loginViewModel) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Controllers\AuthController.cs:line 59
   at lambda_method35(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 12:28:18.074 -03:00 [DBG] Connection ID "17509995357122068487" disconnecting.
2021-01-02 12:28:18.079 -03:00 [DBG] 'AppPrivyContext' disposed.
2021-01-02 12:28:18.087 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91 - 500 - text/plain 11208.8724ms
2021-01-02 17:56:38.613 -03:00 [INF] Starting up
2021-01-02 17:56:42.210 -03:00 [DBG] Hosting starting
2021-01-02 17:56:42.403 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 17:56:42.424 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 17:56:42.472 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 17:56:42.518 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 17:56:42.557 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 17:56:42.565 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 17:56:42.568 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 17:56:42.579 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 17:56:42.588 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 17:56:42.600 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 17:56:42.602 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 17:56:58.230 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 17:56:58.249 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 17:56:58.256 -03:00 [INF] Hosting environment: Development
2021-01-02 17:56:58.267 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 17:56:58.267 -03:00 [DBG] Hosting started
2021-01-02 17:56:58.333 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 17:56:58.337 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 17:56:58.338 -03:00 [VRB] All hosts are allowed.
2021-01-02 17:56:58.376 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 17:56:58.381 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 17:56:58.389 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 17:56:58.475 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 17:56:58.476 -03:00 [DBG] Request did not match any endpoints
2021-01-02 17:56:58.657 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 17:56:59.008 -03:00 [DBG] Connection ID "18230571293206380580" disconnecting.
2021-01-02 17:56:59.046 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 692.5344ms
2021-01-02 17:56:59.513 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 17:56:59.513 -03:00 [VRB] All hosts are allowed.
2021-01-02 17:56:59.514 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 17:56:59.514 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 17:56:59.515 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 17:56:59.515 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 17:56:59.515 -03:00 [DBG] Request did not match any endpoints
2021-01-02 17:56:59.516 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 17:57:00.043 -03:00 [DBG] Connection ID "17798225737568747577" disconnecting.
2021-01-02 17:57:00.059 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 536.3419ms
2021-01-02 17:57:13.562 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 17:57:13.563 -03:00 [VRB] All hosts are allowed.
2021-01-02 17:57:13.563 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 17:57:13.563 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 17:57:13.563 -03:00 [DBG] POST requests are not supported
2021-01-02 17:57:13.580 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 17:57:13.595 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 17:57:13.596 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 17:57:13.629 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 17:57:13.642 -03:00 [INF] CORS policy execution successful.
2021-01-02 17:57:13.647 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 17:57:13.652 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 17:57:13.670 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-01-02 17:57:13.733 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 17:57:13.734 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 17:57:13.735 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 17:57:13.735 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 17:57:13.736 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 17:57:13.736 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 17:57:13.738 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 17:57:13.945 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-01-02 17:57:13.996 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 17:57:14.011 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 17:57:14.017 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 17:57:14.019 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 17:57:14.020 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 17:57:14.154 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 17:57:14.154 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 17:57:14.155 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 17:57:14.174 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 17:57:14.177 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 17:57:14.178 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 17:57:14.178 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 17:57:14.178 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 17:57:14.212 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 17:57:14.214 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 17:57:15.454 -03:00 [DBG] The index {'NotificacaoId'} was not created on entity type 'NotificacaoDispositivo' as the properties are already covered by the index {'NotificacaoId', 'DispositivoId'}.
2021-01-02 17:57:15.454 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2021-01-02 17:57:15.592 -03:00 [DBG] The property 'UsuarioId' on entity type 'Dispositivo' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 17:57:15.592 -03:00 [DBG] The property 'BoletimId' on entity type 'Notificacao' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 17:57:15.596 -03:00 [DBG] The property 'BazarId' on entity type 'Bazar.Endereco#Endereco' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 17:57:15.596 -03:00 [DBG] The property 'CacccId' on entity type 'Caccc.Endereco#Endereco' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 17:57:15.839 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 17:57:16.344 -03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUser>(
    asyncEnumerable: new QueryingEnumerable<IdentityUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, IdentityUser>, 
        AppPrivy.InfraStructure.Contexto.AppPrivyContext, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-01-02 17:57:16.464 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 17:57:16.737 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (267ms).
2021-01-02 17:57:16.755 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 17:57:20.126 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 17:57:20.163 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 17:57:20.750 -03:00 [INF] Executed DbCommand (520ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 17:57:20.805 -03:00 [DBG] A data reader was disposed.
2021-01-02 17:57:20.816 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 17:57:20.841 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 17:57:26.920 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 17:57:26.920 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 17:57:26.921 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 17:57:26.922 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 17:57:27.335 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 13576.8502ms
2021-01-02 17:57:27.611 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 17:57:27.906 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at AppPrivy.WebAppApi.Controllers.AuthController.Login(UserToken loginViewModel) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Controllers\AuthController.cs:line 59
   at lambda_method35(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 17:57:27.940 -03:00 [DBG] Connection ID "17798225737568747579" disconnecting.
2021-01-02 17:57:27.942 -03:00 [DBG] 'AppPrivyContext' disposed.
2021-01-02 17:57:27.950 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91 - 500 - text/plain 14390.5372ms
2021-01-02 18:08:26.629 -03:00 [INF] Starting up
2021-01-02 18:08:29.804 -03:00 [DBG] Hosting starting
2021-01-02 18:08:29.950 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 18:08:29.970 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 18:08:30.016 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 18:08:30.046 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 18:08:30.068 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:08:30.074 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 18:08:30.076 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:08:30.084 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 18:08:30.091 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 18:08:30.099 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 18:08:30.101 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 18:08:30.528 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 18:08:30.551 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 18:08:30.577 -03:00 [INF] Hosting environment: Development
2021-01-02 18:08:30.581 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 18:08:30.581 -03:00 [DBG] Hosting started
2021-01-02 18:08:30.650 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 18:08:30.655 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 18:08:30.655 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:08:30.685 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:08:30.690 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:08:30.695 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 18:08:30.882 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:08:30.999 -03:00 [DBG] Connection ID "18230571293206380582" disconnecting.
2021-01-02 18:08:31.086 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 500 - text/html;+charset=utf-8 377.4982ms
2021-01-02 18:08:31.554 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/favicon.ico - -
2021-01-02 18:08:31.554 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:08:31.555 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:08:31.555 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:08:31.555 -03:00 [DBG] The request path /favicon.ico does not match an existing file
2021-01-02 18:08:31.673 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:08:31.704 -03:00 [DBG] Connection ID "18230571293206380584" disconnecting.
2021-01-02 18:08:31.709 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/favicon.ico - - - 500 - text/plain 156.7767ms
2021-01-02 18:13:14.291 -03:00 [INF] Starting up
2021-01-02 18:13:17.353 -03:00 [DBG] Hosting starting
2021-01-02 18:13:17.497 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 18:13:17.522 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 18:13:17.575 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 18:13:17.619 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 18:13:17.654 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:13:17.677 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 18:13:17.680 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:13:17.692 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 18:13:17.702 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 18:13:17.712 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 18:13:17.714 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 18:13:18.187 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 18:13:18.207 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 18:13:18.211 -03:00 [INF] Hosting environment: Development
2021-01-02 18:13:18.226 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 18:13:18.227 -03:00 [DBG] Hosting started
2021-01-02 18:13:18.328 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 18:13:18.332 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 18:13:18.332 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:13:18.365 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:13:18.370 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:13:18.376 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 18:13:18.575 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:13:18.726 -03:00 [DBG] Connection ID "17942340925644603409" disconnecting.
2021-01-02 18:13:18.943 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 500 - text/html;+charset=utf-8 520.0236ms
2021-01-02 18:13:19.482 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/favicon.ico - -
2021-01-02 18:13:19.482 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:13:19.483 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:13:19.483 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:13:19.483 -03:00 [DBG] The request path /favicon.ico does not match an existing file
2021-01-02 18:13:19.585 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:13:19.647 -03:00 [DBG] Connection ID "17509995357122068489" disconnecting.
2021-01-02 18:13:19.651 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/favicon.ico - - - 500 - text/plain 201.0606ms
2021-01-02 18:15:20.902 -03:00 [INF] Starting up
2021-01-02 18:15:23.316 -03:00 [DBG] Hosting starting
2021-01-02 18:15:23.424 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 18:15:23.445 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 18:15:23.490 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 18:15:23.524 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 18:15:23.545 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:15:23.551 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 18:15:23.554 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:15:23.561 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 18:15:23.569 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 18:15:23.576 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 18:15:23.578 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 18:15:24.003 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 18:15:24.022 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 18:15:24.025 -03:00 [INF] Hosting environment: Development
2021-01-02 18:15:24.044 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 18:15:24.044 -03:00 [DBG] Hosting started
2021-01-02 18:15:24.110 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 18:15:24.114 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 18:15:24.115 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:15:24.154 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:15:24.159 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:15:24.163 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 18:15:24.372 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.Logger`1[AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware]' while attempting to activate 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:15:24.510 -03:00 [DBG] Connection ID "18086456105130524680" disconnecting.
2021-01-02 18:15:24.534 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 500 - text/html;+charset=utf-8 423.5584ms
2021-01-02 18:15:24.991 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/favicon.ico - -
2021-01-02 18:15:24.991 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:15:24.992 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:15:24.992 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:15:24.993 -03:00 [DBG] The request path /favicon.ico does not match an existing file
2021-01-02 18:15:25.129 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.Logger`1[AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware]' while attempting to activate 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:15:25.165 -03:00 [DBG] Connection ID "18086456105130524682" disconnecting.
2021-01-02 18:15:25.168 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/favicon.ico - - - 500 - text/plain 180.5358ms
2021-01-02 18:20:48.198 -03:00 [INF] Starting up
2021-01-02 18:20:51.028 -03:00 [DBG] Hosting starting
2021-01-02 18:20:51.176 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 18:20:51.199 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 18:20:51.242 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 18:20:51.269 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 18:20:51.289 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:20:51.294 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 18:20:51.296 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:20:51.304 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 18:20:51.310 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 18:20:51.317 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 18:20:51.319 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 18:20:51.697 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 18:20:51.728 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 18:20:51.732 -03:00 [INF] Hosting environment: Development
2021-01-02 18:20:51.736 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 18:20:51.736 -03:00 [DBG] Hosting started
2021-01-02 18:20:51.806 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 18:20:51.811 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 18:20:51.811 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:20:51.854 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:20:51.859 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:20:51.864 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 18:20:52.069 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.Logger`1[AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware]' while attempting to activate 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:20:52.186 -03:00 [DBG] Connection ID "17870283331606675466" disconnecting.
2021-01-02 18:20:52.230 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 500 - text/html;+charset=utf-8 404.2886ms
2021-01-02 18:20:52.603 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/favicon.ico - -
2021-01-02 18:20:52.603 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:20:52.604 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:20:52.604 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:20:52.605 -03:00 [DBG] The request path /favicon.ico does not match an existing file
2021-01-02 18:20:52.705 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.Logger`1[AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware]' while attempting to activate 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:20:52.752 -03:00 [DBG] Connection ID "18230571293206380587" disconnecting.
2021-01-02 18:20:52.752 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/favicon.ico - - - 500 - text/plain 150.2940ms
2021-01-02 18:23:03.930 -03:00 [INF] Starting up
2021-01-02 18:23:07.187 -03:00 [FTL] Application start-up failed
System.ArgumentException: Cannot instantiate implementation type 'Microsoft.Extensions.Logging.ILogger`1[TCategoryName]' for service type 'Microsoft.Extensions.Logging.ILogger`1[TCategoryName]'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.Populate()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory..ctor(IEnumerable`1 descriptors)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine..ctor(IEnumerable`1 serviceDescriptors)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CompiledServiceProviderEngine..ctor(IEnumerable`1 serviceDescriptors)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services)
   at DotNurse.Injector.DotNurseServiceProvider..ctor(IServiceCollection defaultServiceCollection)
   at DotNurse.Injector.DotNurseServiceProviderFactory.CreateBuilder(IServiceCollection services)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateBuilder(IServiceCollection services)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at AppPrivy.WebAppApi.Program.Main(String[] args) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Program.cs:line 25
2021-01-02 18:24:29.379 -03:00 [INF] Starting up
2021-01-02 18:24:31.923 -03:00 [DBG] Hosting starting
2021-01-02 18:24:32.040 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 18:24:32.059 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 18:24:32.092 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 18:24:32.132 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 18:24:32.162 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:24:32.167 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 18:24:32.170 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:24:32.178 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 18:24:32.185 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 18:24:32.195 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 18:24:32.197 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 18:24:32.589 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 18:24:32.615 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 18:24:32.631 -03:00 [INF] Hosting environment: Development
2021-01-02 18:24:32.637 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 18:24:32.637 -03:00 [DBG] Hosting started
2021-01-02 18:24:32.691 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 18:24:32.695 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 18:24:32.695 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:24:32.734 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:24:32.739 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:24:32.745 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 18:24:32.934 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.Logger`1[AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware]' while attempting to activate 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:24:33.150 -03:00 [DBG] Connection ID "18086456105130524684" disconnecting.
2021-01-02 18:24:33.170 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 500 - text/html;+charset=utf-8 475.7107ms
2021-01-02 18:24:33.618 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/favicon.ico - -
2021-01-02 18:24:33.619 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:24:33.621 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:24:33.621 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:24:33.623 -03:00 [DBG] The request path /favicon.ico does not match an existing file
2021-01-02 18:24:33.741 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.Logger`1[AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware]' while attempting to activate 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:24:33.773 -03:00 [DBG] Connection ID "17942340925644603412" disconnecting.
2021-01-02 18:24:33.778 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/favicon.ico - - - 500 - text/plain 159.6266ms
2021-01-02 18:26:23.579 -03:00 [INF] Starting up
2021-01-02 18:26:26.177 -03:00 [DBG] Hosting starting
2021-01-02 18:26:26.346 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 18:26:26.370 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 18:26:26.412 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 18:26:26.443 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 18:26:26.463 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:26:26.468 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 18:26:26.472 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:26:26.479 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 18:26:26.486 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 18:26:26.494 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 18:26:26.495 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 18:26:27.192 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 18:26:27.215 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 18:26:27.219 -03:00 [INF] Hosting environment: Development
2021-01-02 18:26:27.237 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 18:26:27.237 -03:00 [DBG] Hosting started
2021-01-02 18:26:27.324 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 18:26:27.330 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 18:26:27.330 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:26:27.374 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:26:27.380 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:26:27.385 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 18:26:27.604 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.Logger`1[AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware]' while attempting to activate 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:26:27.831 -03:00 [DBG] Connection ID "17798225737568747586" disconnecting.
2021-01-02 18:26:27.851 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 500 - text/html;+charset=utf-8 529.6735ms
2021-01-02 18:26:28.338 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/favicon.ico - -
2021-01-02 18:26:28.339 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:26:28.339 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:26:28.340 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:26:28.340 -03:00 [DBG] The request path /favicon.ico does not match an existing file
2021-01-02 18:26:28.457 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.Logger`1[AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware]' while attempting to activate 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:26:28.498 -03:00 [DBG] Connection ID "17798225737568747588" disconnecting.
2021-01-02 18:26:28.502 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/favicon.ico - - - 500 - text/plain 176.9220ms
2021-01-02 18:28:43.707 -03:00 [INF] Starting up
2021-01-02 18:28:46.496 -03:00 [DBG] Hosting starting
2021-01-02 18:28:46.622 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 18:28:46.638 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 18:28:46.673 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 18:28:46.704 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 18:28:46.736 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:28:46.744 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 18:28:46.747 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:28:46.758 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 18:28:46.765 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 18:28:46.772 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 18:28:46.774 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 18:28:47.143 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 18:28:47.162 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 18:28:47.166 -03:00 [INF] Hosting environment: Development
2021-01-02 18:28:47.182 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 18:28:47.182 -03:00 [DBG] Hosting started
2021-01-02 18:28:47.251 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 18:28:47.255 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 18:28:47.256 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:28:47.287 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:28:47.292 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:28:47.296 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 18:28:47.498 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.Logger`1[AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware]' while attempting to activate 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:28:47.668 -03:00 [DBG] Connection ID "17798225737568747590" disconnecting.
2021-01-02 18:28:47.702 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 500 - text/html;+charset=utf-8 437.3830ms
2021-01-02 18:28:48.103 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/favicon.ico - -
2021-01-02 18:28:48.104 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:28:48.104 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:28:48.105 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:28:48.105 -03:00 [DBG] The request path /favicon.ico does not match an existing file
2021-01-02 18:28:48.179 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.Logger`1[AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware]' while attempting to activate 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:28:48.208 -03:00 [DBG] Connection ID "17798225737568747592" disconnecting.
2021-01-02 18:28:48.211 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/favicon.ico - - - 500 - text/plain 111.4227ms
2021-01-02 18:33:44.311 -03:00 [INF] Starting up
2021-01-02 18:33:46.892 -03:00 [DBG] Hosting starting
2021-01-02 18:33:47.020 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 18:33:47.035 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 18:33:47.067 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 18:33:47.092 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 18:33:47.115 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:33:47.120 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 18:33:47.124 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:33:47.135 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 18:33:47.143 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 18:33:47.152 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 18:33:47.153 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 18:33:47.544 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 18:33:47.587 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 18:33:47.592 -03:00 [INF] Hosting environment: Development
2021-01-02 18:33:47.597 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 18:33:47.597 -03:00 [DBG] Hosting started
2021-01-02 18:33:47.663 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 18:33:47.667 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 18:33:47.667 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:33:47.700 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:33:47.706 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:33:47.710 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 18:33:47.894 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:33:48.074 -03:00 [DBG] Connection ID "18230571293206380594" disconnecting.
2021-01-02 18:33:48.096 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 500 - text/html;+charset=utf-8 428.2718ms
2021-01-02 18:33:48.448 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/favicon.ico - -
2021-01-02 18:33:48.449 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:33:48.450 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:33:48.450 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:33:48.450 -03:00 [DBG] The request path /favicon.ico does not match an existing file
2021-01-02 18:33:48.543 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:33:48.580 -03:00 [DBG] Connection ID "18230571306091282471" disconnecting.
2021-01-02 18:33:48.587 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/favicon.ico - - - 500 - text/plain 141.9506ms
2021-01-02 18:34:44.803 -03:00 [INF] Starting up
2021-01-02 18:34:47.364 -03:00 [DBG] Hosting starting
2021-01-02 18:34:47.492 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 18:34:47.506 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 18:34:47.537 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 18:34:47.563 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 18:34:47.583 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:34:47.589 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 18:34:47.592 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:34:47.599 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 18:34:47.606 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 18:34:47.613 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 18:34:47.615 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 18:34:48.033 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 18:34:48.062 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 18:34:48.064 -03:00 [INF] Hosting environment: Development
2021-01-02 18:34:48.067 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 18:34:48.067 -03:00 [DBG] Hosting started
2021-01-02 18:34:48.138 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 18:34:48.143 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 18:34:48.144 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:34:48.178 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:34:48.183 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:34:48.189 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 18:34:48.372 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Serilog.ILogger' while attempting to activate 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:34:48.500 -03:00 [DBG] Connection ID "17798225737568747594" disconnecting.
2021-01-02 18:34:48.555 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 500 - text/html;+charset=utf-8 392.4030ms
2021-01-02 18:34:48.953 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/favicon.ico - -
2021-01-02 18:34:48.953 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:34:48.954 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:34:48.954 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:34:48.955 -03:00 [DBG] The request path /favicon.ico does not match an existing file
2021-01-02 18:34:49.051 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Serilog.ILogger' while attempting to activate 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:34:49.084 -03:00 [DBG] Connection ID "17798225737568747596" disconnecting.
2021-01-02 18:34:49.088 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/favicon.ico - - - 500 - text/plain 136.5472ms
2021-01-02 18:37:51.333 -03:00 [INF] Starting up
2021-01-02 18:37:53.543 -03:00 [FTL] Application start-up failed
System.ArgumentException: Cannot instantiate implementation type 'Serilog.ILogger' for service type 'Serilog.ILogger'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.Populate()
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory..ctor(IEnumerable`1 descriptors)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine..ctor(IEnumerable`1 serviceDescriptors)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CompiledServiceProviderEngine..ctor(IEnumerable`1 serviceDescriptors)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services)
   at DotNurse.Injector.DotNurseServiceProvider..ctor(IServiceCollection defaultServiceCollection)
   at DotNurse.Injector.DotNurseServiceProviderFactory.CreateBuilder(IServiceCollection services)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateBuilder(IServiceCollection services)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at AppPrivy.WebAppApi.Program.Main(String[] args) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Program.cs:line 25
2021-01-02 18:39:17.293 -03:00 [INF] Starting up
2021-01-02 18:39:20.918 -03:00 [DBG] Hosting starting
2021-01-02 18:39:21.141 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 18:39:21.163 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 18:39:21.211 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 18:39:21.268 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 18:39:21.309 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:39:21.318 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 18:39:21.321 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:39:21.334 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 18:39:21.344 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 18:39:21.356 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 18:39:21.359 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 18:39:21.863 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 18:39:21.892 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 18:39:21.914 -03:00 [INF] Hosting environment: Development
2021-01-02 18:39:21.939 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 18:39:21.940 -03:00 [DBG] Hosting started
2021-01-02 18:39:22.032 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 18:39:22.036 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 18:39:22.037 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:39:22.073 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:39:22.079 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:39:22.084 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 18:39:22.342 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Serilog.ILogger' while attempting to activate 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:39:22.531 -03:00 [DBG] Connection ID "18158513699168452628" disconnecting.
2021-01-02 18:39:22.566 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 500 - text/html;+charset=utf-8 534.8937ms
2021-01-02 18:39:23.969 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/favicon.ico - -
2021-01-02 18:39:23.970 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:39:23.971 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:39:23.971 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:39:23.971 -03:00 [DBG] The request path /favicon.ico does not match an existing file
2021-01-02 18:39:24.132 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Serilog.ILogger' while attempting to activate 'AppPrivy.CrossCutting.Middleware.ErrorHandlingMiddleware'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.<>c__DisplayClass7_0.<GetCallSite>b__0(Type type)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.AspNetCore.Http.MiddlewareFactory.Create(Type middlewareType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass6_1.<<UseMiddlewareInterface>b__1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:39:24.162 -03:00 [DBG] Connection ID "17437937763084140568" disconnecting.
2021-01-02 18:39:24.165 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/favicon.ico - - - 500 - text/plain 200.2110ms
2021-01-02 18:43:46.710 -03:00 [INF] Starting up
2021-01-02 18:43:49.739 -03:00 [DBG] Hosting starting
2021-01-02 18:43:49.857 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 18:43:49.873 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 18:43:49.916 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 18:43:49.955 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 18:43:49.989 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:43:49.994 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 18:43:49.997 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:43:50.005 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 18:43:50.011 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 18:43:50.019 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 18:43:50.021 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 18:43:50.457 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 18:43:50.477 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 18:43:50.481 -03:00 [INF] Hosting environment: Development
2021-01-02 18:43:50.496 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 18:43:50.496 -03:00 [DBG] Hosting started
2021-01-02 18:43:50.556 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 18:43:50.561 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 18:43:50.561 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:43:50.602 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:43:50.608 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:43:50.615 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 18:43:50.697 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 18:43:50.698 -03:00 [DBG] Request did not match any endpoints
2021-01-02 18:43:50.991 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 18:43:51.361 -03:00 [DBG] Connection ID "17582052951159996466" disconnecting.
2021-01-02 18:43:51.372 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 815.6380ms
2021-01-02 18:43:51.905 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 18:43:51.906 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:43:51.907 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:43:51.907 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:43:51.907 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 18:43:51.908 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 18:43:51.908 -03:00 [DBG] Request did not match any endpoints
2021-01-02 18:43:51.909 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 18:43:52.654 -03:00 [DBG] Connection ID "17582052951159996468" disconnecting.
2021-01-02 18:43:52.655 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 744.9221ms
2021-01-02 18:44:17.684 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 18:44:17.684 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:44:17.684 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:44:17.685 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:44:17.685 -03:00 [DBG] POST requests are not supported
2021-01-02 18:44:17.725 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 18:44:17.785 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 18:44:17.786 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 18:44:17.807 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 18:44:17.820 -03:00 [INF] CORS policy execution successful.
2021-01-02 18:44:17.826 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 18:44:17.838 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 18:44:17.855 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-01-02 18:44:17.949 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 18:44:17.952 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 18:44:17.953 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 18:44:17.953 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 18:44:17.954 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 18:44:17.954 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 18:44:17.955 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 18:44:18.550 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-01-02 18:44:18.624 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 18:44:18.636 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 18:44:18.640 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 18:44:18.642 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 18:44:18.642 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 18:44:18.783 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 18:44:18.783 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 18:44:18.784 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 18:44:18.802 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 18:44:18.806 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:44:18.807 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:44:18.807 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:44:18.807 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:44:18.828 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 18:44:18.829 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 18:44:20.473 -03:00 [DBG] The index {'NotificacaoId'} was not created on entity type 'NotificacaoDispositivo' as the properties are already covered by the index {'NotificacaoId', 'DispositivoId'}.
2021-01-02 18:44:20.473 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2021-01-02 18:44:20.616 -03:00 [DBG] The property 'UsuarioId' on entity type 'Dispositivo' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 18:44:20.616 -03:00 [DBG] The property 'BoletimId' on entity type 'Notificacao' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 18:44:20.623 -03:00 [DBG] The property 'BazarId' on entity type 'Bazar.Endereco#Endereco' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 18:44:20.623 -03:00 [DBG] The property 'CacccId' on entity type 'Caccc.Endereco#Endereco' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 18:44:20.748 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 18:44:21.307 -03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUser>(
    asyncEnumerable: new QueryingEnumerable<IdentityUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, IdentityUser>, 
        AppPrivy.InfraStructure.Contexto.AppPrivyContext, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-01-02 18:44:21.395 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 18:44:21.816 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (415ms).
2021-01-02 18:44:21.835 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:44:24.049 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:44:24.080 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 18:44:24.510 -03:00 [INF] Executed DbCommand (430ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 18:44:24.551 -03:00 [DBG] A data reader was disposed.
2021-01-02 18:44:24.557 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:44:24.577 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:44:29.754 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:44:29.754 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:44:29.755 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:44:29.756 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:44:30.238 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 12257.1048ms
2021-01-02 18:44:30.408 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 18:44:30.756 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at AppPrivy.WebAppApi.Controllers.AuthController.Login(UserToken loginViewModel) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Controllers\AuthController.cs:line 59
   at lambda_method35(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:44:30.787 -03:00 [DBG] Connection ID "17582052951159996470" disconnecting.
2021-01-02 18:44:30.789 -03:00 [DBG] 'AppPrivyContext' disposed.
2021-01-02 18:44:30.799 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91 - 500 - text/plain 13116.0054ms
2021-01-02 18:44:43.431 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 18:44:43.431 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:44:43.432 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:44:43.432 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:44:43.432 -03:00 [DBG] POST requests are not supported
2021-01-02 18:44:43.438 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 18:44:43.438 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 18:44:43.438 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 18:44:43.438 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 18:44:43.442 -03:00 [INF] CORS policy execution successful.
2021-01-02 18:44:43.443 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 18:44:43.446 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 18:44:43.454 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 18:44:43.454 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 18:44:43.455 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 18:44:43.455 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 18:44:43.455 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 18:44:43.455 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 18:44:43.456 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 18:44:43.458 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 18:44:43.459 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 18:44:43.460 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 18:44:43.460 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 18:44:43.460 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 18:44:43.461 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 18:44:43.462 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 18:44:43.462 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 18:44:43.463 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 18:44:43.463 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:44:43.463 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:44:43.463 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:44:43.464 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:44:43.474 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 18:44:43.475 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 18:44:43.545 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 18:44:43.553 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 18:44:43.554 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 18:44:43.554 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:44:43.556 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:44:43.556 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 18:44:43.754 -03:00 [INF] Executed DbCommand (195ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 18:44:43.755 -03:00 [DBG] A data reader was disposed.
2021-01-02 18:44:43.755 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:44:43.755 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:44:46.435 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:44:46.435 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:44:46.436 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:44:46.436 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:44:46.834 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 3375.5282ms
2021-01-02 18:44:46.963 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 18:44:47.191 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at AppPrivy.WebAppApi.Controllers.AuthController.Login(UserToken loginViewModel) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Controllers\AuthController.cs:line 59
   at lambda_method35(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:44:47.201 -03:00 [DBG] 'AppPrivyContext' disposed.
2021-01-02 18:44:47.209 -03:00 [DBG] Connection ID "17582052951159996472" disconnecting.
2021-01-02 18:44:47.218 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91 - 500 - text/plain 3774.1593ms
2021-01-02 18:45:18.542 -03:00 [INF] Starting up
2021-01-02 18:45:21.292 -03:00 [DBG] Hosting starting
2021-01-02 18:45:21.401 -03:00 [INF] User profile is available. Using 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-01-02 18:45:21.420 -03:00 [DBG] Reading data from file 'C:\Users\adils\AppData\Local\ASP.NET\DataProtection-Keys\key-00640ac3-6c0a-4dfd-97ec-9880fbd9ce47.xml'.
2021-01-02 18:45:21.454 -03:00 [DBG] Found key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47}.
2021-01-02 18:45:21.480 -03:00 [DBG] Considering key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} with expiration date 2021-02-06 18:49:03Z as default key.
2021-01-02 18:45:21.501 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:45:21.508 -03:00 [DBG] Decrypting secret element using Windows DPAPI.
2021-01-02 18:45:21.511 -03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=3.1.9.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2021-01-02 18:45:21.519 -03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2021-01-02 18:45:21.525 -03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2021-01-02 18:45:21.532 -03:00 [DBG] Using key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} as the default key.
2021-01-02 18:45:21.534 -03:00 [DBG] Key ring with default key {00640ac3-6c0a-4dfd-97ec-9880fbd9ce47} was loaded during application startup.
2021-01-02 18:45:21.922 -03:00 [DBG] Loaded hosting startup assembly AppPrivy.WebAppApi
2021-01-02 18:45:21.939 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-01-02 18:45:21.942 -03:00 [INF] Hosting environment: Development
2021-01-02 18:45:21.955 -03:00 [INF] Content root path: E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi
2021-01-02 18:45:21.955 -03:00 [DBG] Hosting started
2021-01-02 18:45:22.009 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/index.html - -
2021-01-02 18:45:22.013 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2021-01-02 18:45:22.013 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:45:22.045 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:45:22.052 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:45:22.058 -03:00 [DBG] The request path /swagger/index.html does not match an existing file
2021-01-02 18:45:29.657 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2021-01-02 18:45:29.658 -03:00 [DBG] Request did not match any endpoints
2021-01-02 18:45:29.795 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 18:45:30.091 -03:00 [DBG] Connection ID "18374686494167138328" disconnecting.
2021-01-02 18:45:30.135 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/index.html - - - 200 - text/html;charset=utf-8 8097.1867ms
2021-01-02 18:45:30.676 -03:00 [INF] Request starting HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - -
2021-01-02 18:45:30.676 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:45:30.678 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:45:30.678 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:45:30.678 -03:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2021-01-02 18:45:35.078 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2021-01-02 18:45:35.078 -03:00 [DBG] Request did not match any endpoints
2021-01-02 18:45:35.079 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 18:45:35.637 -03:00 [DBG] Connection ID "18086456105130524686" disconnecting.
2021-01-02 18:45:35.642 -03:00 [INF] Request finished HTTP/2 GET https://localhost:44374/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 4975.7801ms
2021-01-02 18:45:47.848 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 18:45:47.849 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:45:47.849 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:45:47.849 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:45:47.849 -03:00 [DBG] POST requests are not supported
2021-01-02 18:45:53.957 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 18:45:53.966 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 18:45:53.967 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 18:45:53.970 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 18:45:53.979 -03:00 [INF] CORS policy execution successful.
2021-01-02 18:45:53.984 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 18:45:53.990 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 18:45:54.007 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2021-01-02 18:45:54.071 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 18:45:54.073 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 18:45:54.074 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 18:45:54.074 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 18:45:54.075 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 18:45:54.075 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 18:45:54.077 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 18:45:54.286 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2021-01-02 18:45:54.344 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 18:45:54.354 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 18:45:54.361 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 18:45:54.363 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 18:45:54.364 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 18:45:54.497 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 18:45:54.497 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 18:45:54.497 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 18:45:54.516 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 18:45:54.520 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:45:54.521 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:45:54.521 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:45:54.522 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:45:54.545 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 18:45:54.545 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 18:45:55.838 -03:00 [DBG] The index {'NotificacaoId'} was not created on entity type 'NotificacaoDispositivo' as the properties are already covered by the index {'NotificacaoId', 'DispositivoId'}.
2021-01-02 18:45:55.839 -03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2021-01-02 18:45:56.046 -03:00 [DBG] The property 'UsuarioId' on entity type 'Dispositivo' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 18:45:56.046 -03:00 [DBG] The property 'BoletimId' on entity type 'Notificacao' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 18:45:56.050 -03:00 [DBG] The property 'BazarId' on entity type 'Bazar.Endereco#Endereco' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 18:45:56.050 -03:00 [DBG] The property 'CacccId' on entity type 'Caccc.Endereco#Endereco' was created in shadow state because there are no eligible CLR members with a matching name.
2021-01-02 18:45:56.190 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 18:45:56.732 -03:00 [DBG] queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUser>(
    asyncEnumerable: new QueryingEnumerable<IdentityUser>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache, 
        null, 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, int[], ResultCoordinator, IdentityUser>, 
        AppPrivy.InfraStructure.Contexto.AppPrivyContext, 
        DiagnosticsLogger<Query>
    ), 
    cancellationToken: queryContext.CancellationToken)
2021-01-02 18:45:56.831 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 18:45:57.118 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (276ms).
2021-01-02 18:45:57.139 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:45:59.793 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:45:59.835 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 18:46:00.411 -03:00 [INF] Executed DbCommand (568ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 18:46:00.452 -03:00 [DBG] A data reader was disposed.
2021-01-02 18:46:00.461 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:46:00.477 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:46:03.542 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:46:03.542 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:46:03.543 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:46:03.544 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:46:03.978 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 9878.7287ms
2021-01-02 18:46:04.218 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 18:46:04.547 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at AppPrivy.WebAppApi.Controllers.AuthController.Login(UserToken loginViewModel) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Controllers\AuthController.cs:line 59
   at lambda_method35(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:46:04.576 -03:00 [DBG] Connection ID "18374686494167138330" disconnecting.
2021-01-02 18:46:04.580 -03:00 [DBG] 'AppPrivyContext' disposed.
2021-01-02 18:46:04.592 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91 - 500 - text/plain 16743.6272ms
2021-01-02 18:46:41.222 -03:00 [INF] Request starting HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91
2021-01-02 18:46:41.226 -03:00 [VRB] All hosts are allowed.
2021-01-02 18:46:41.262 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported cultures '["en-US","en"]'.
2021-01-02 18:46:41.263 -03:00 [DBG] AcceptLanguageHeaderRequestCultureProvider returned the following unsupported UI Cultures '["en-US","en"]'.
2021-01-02 18:46:41.263 -03:00 [DBG] POST requests are not supported
2021-01-02 18:46:43.712 -03:00 [DBG] 1 candidate(s) found for the request path '/Analista/Programador/Auth/Login'
2021-01-02 18:46:43.712 -03:00 [DBG] Endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)' with route pattern 'Analista/Programador/Auth/Login' is valid for the request path '/Analista/Programador/Auth/Login'
2021-01-02 18:46:43.713 -03:00 [DBG] Request matched endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 18:46:43.713 -03:00 [DBG] The request has an origin header: 'https://localhost:44374'.
2021-01-02 18:46:43.724 -03:00 [INF] CORS policy execution successful.
2021-01-02 18:46:43.725 -03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2021-01-02 18:46:43.730 -03:00 [INF] Executing endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 18:46:43.738 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Appointment.Application.ViewsModels.UserToken]] Login(Appointment.Application.ViewsModels.UserToken) on controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi).
2021-01-02 18:46:43.739 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2021-01-02 18:46:43.739 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2021-01-02 18:46:43.739 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2021-01-02 18:46:43.739 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2021-01-02 18:46:43.739 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2021-01-02 18:46:43.740 -03:00 [DBG] Executing controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 18:46:43.786 -03:00 [DBG] Executed controller factory for controller AppPrivy.WebAppApi.Controllers.AuthController (AppPrivy.WebAppApi)
2021-01-02 18:46:43.787 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 18:46:43.787 -03:00 [DBG] Attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' using the name '' in request data ...
2021-01-02 18:46:43.788 -03:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 18:46:43.788 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2021-01-02 18:46:43.789 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 18:46:43.789 -03:00 [DBG] Done attempting to bind parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 18:46:43.789 -03:00 [DBG] Attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken' ...
2021-01-02 18:46:43.790 -03:00 [DBG] Done attempting to validate the bound parameter 'loginViewModel' of type 'Appointment.Application.ViewsModels.UserToken'.
2021-01-02 18:46:43.790 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:46:43.791 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:46:43.791 -03:00 [VRB] Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:46:43.791 -03:00 [VRB] Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:46:43.797 -03:00 [INF] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) - Validation state: "Valid"
2021-01-02 18:46:43.798 -03:00 [VRB] Executing action method AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) with arguments (["Appointment.Application.ViewsModels.UserToken"])
2021-01-02 18:46:43.880 -03:00 [INF] Entity Framework Core 3.1.0 initialized 'AppPrivyContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=AppPrivy.WebAppMvc 
2021-01-02 18:46:43.892 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2021-01-02 18:46:43.892 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2021-01-02 18:46:43.893 -03:00 [DBG] Opening connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:46:43.895 -03:00 [DBG] Opened connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:46:43.895 -03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 18:46:44.095 -03:00 [INF] Executed DbCommand (197ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Security].[User] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2021-01-02 18:46:44.096 -03:00 [DBG] A data reader was disposed.
2021-01-02 18:46:44.096 -03:00 [DBG] Closing connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:46:44.096 -03:00 [DBG] Closed connection to database 'DB_A44382_lustoza' on server 'sql5059.site4now.net'.
2021-01-02 18:46:45.712 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:46:45.712 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2021-01-02 18:46:45.713 -03:00 [VRB] Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:46:45.713 -03:00 [VRB] Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2021-01-02 18:46:46.113 -03:00 [INF] Executed action AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi) in 2370.3201ms
2021-01-02 18:46:46.248 -03:00 [INF] Executed endpoint 'AppPrivy.WebAppApi.Controllers.AuthController.Login (AppPrivy.WebAppApi)'
2021-01-02 18:46:46.526 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at AppPrivy.WebAppApi.Controllers.AuthController.Login(UserToken loginViewModel) in E:\PROJETOS\NetCore\AppPrivy\AppPrivy.WebAppApi\Controllers\AuthController.cs:line 59
   at lambda_method35(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-01-02 18:46:46.538 -03:00 [DBG] Connection ID "17509995357122068500" disconnecting.
2021-01-02 18:46:46.548 -03:00 [DBG] 'AppPrivyContext' disposed.
2021-01-02 18:46:46.564 -03:00 [INF] Request finished HTTP/2 POST https://localhost:44374/Analista/Programador/Auth/Login application/json-patch+json 91 - 500 - text/plain 5332.4132ms
